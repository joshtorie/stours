import"./model-viewer-DX03LNdJ.js";function _m(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function km(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var uf={exports:{}},bo={},cf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),Em=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Mm=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),Rm=Symbol.for("react.memo"),Im=Symbol.for("react.lazy"),cc=Symbol.iterator;function Am(t){return t===null||typeof t!="object"?null:(t=cc&&t[cc]||t["@@iterator"],typeof t=="function"?t:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,ff={};function Er(t,e,n){this.props=t,this.context=e,this.refs=ff,this.updater=n||df}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pf(){}pf.prototype=Er.prototype;function $l(t,e,n){this.props=t,this.context=e,this.refs=ff,this.updater=n||df}var Ul=$l.prototype=new pf;Ul.constructor=$l;hf(Ul,Er.prototype);Ul.isPureReactComponent=!0;var dc=Array.isArray,gf=Object.prototype.hasOwnProperty,zl={current:null},mf={key:!0,ref:!0,__self:!0,__source:!0};function vf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gf.call(e,r)&&!mf.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ns,type:t,key:i,ref:o,props:s,_owner:zl.current}}function Dm(t,e){return{$$typeof:Ns,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ns}function $m(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hc=/\/+/g;function Zo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$m(""+t.key):e.toString(36)}function Si(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ns:case Em:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zo(o,0):r,dc(s)?(n="",t!=null&&(n=t.replace(hc,"$&/")+"/"),Si(s,e,n,"",function(u){return u})):s!=null&&(Bl(s)&&(s=Dm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",dc(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Zo(i,a);o+=Si(i,e,n,l,s)}else if(l=Am(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Zo(i,a++),o+=Si(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ti(t,e,n){if(t==null)return t;var r=[],s=0;return Si(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Um(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fe={current:null},ki={transition:null},zm={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ki,ReactCurrentOwner:zl};function yf(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ti,forEach:function(t,e,n){ti(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ti(t,function(){e++}),e},toArray:function(t){return ti(t,function(e){return e})||[]},only:function(t){if(!Bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Er;re.Fragment=Cm;re.Profiler=Pm;re.PureComponent=$l;re.StrictMode=jm;re.Suspense=Nm;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;re.act=yf;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gf.call(e,l)&&!mf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ns,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:Mm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Om,_context:t},t.Consumer=t};re.createElement=vf;re.createFactory=function(t){var e=vf.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Tm,render:t}};re.isValidElement=Bl;re.lazy=function(t){return{$$typeof:Im,_payload:{_status:-1,_result:t},_init:Um}};re.memo=function(t,e){return{$$typeof:Rm,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=ki.transition;ki.transition={};try{t()}finally{ki.transition=e}};re.unstable_act=yf;re.useCallback=function(t,e){return Fe.current.useCallback(t,e)};re.useContext=function(t){return Fe.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Fe.current.useDeferredValue(t)};re.useEffect=function(t,e){return Fe.current.useEffect(t,e)};re.useId=function(){return Fe.current.useId()};re.useImperativeHandle=function(t,e,n){return Fe.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Fe.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Fe.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Fe.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Fe.current.useReducer(t,e,n)};re.useRef=function(t){return Fe.current.useRef(t)};re.useState=function(t){return Fe.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Fe.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Fe.current.useTransition()};re.version="18.3.1";cf.exports=re;var c=cf.exports;const Pe=Sm(c),Bm=_m({__proto__:null,default:Pe},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=c,Wm=Symbol.for("react.element"),Vm=Symbol.for("react.fragment"),Hm=Object.prototype.hasOwnProperty,Gm=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qm={key:!0,ref:!0,__self:!0,__source:!0};function wf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hm.call(e,r)&&!qm.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Wm,type:t,key:i,ref:o,props:s,_owner:Gm.current}}bo.Fragment=Vm;bo.jsx=wf;bo.jsxs=wf;uf.exports=bo;var h=uf.exports,xf={exports:{}},rt={},bf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,z){var B=R.length;R.push(z);e:for(;0<B;){var E=B-1>>>1,I=R[E];if(0<s(I,z))R[E]=z,R[B]=I,B=E;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],B=R.pop();if(B!==z){R[0]=B;e:for(var E=0,I=R.length,P=I>>>1;E<P;){var $=2*(E+1)-1,j=R[$],W=$+1,Z=R[W];if(0>s(j,B))W<I&&0>s(Z,j)?(R[E]=Z,R[W]=B,E=W):(R[E]=j,R[$]=B,E=$);else if(W<I&&0>s(Z,B))R[E]=Z,R[W]=B,E=W;else break e}}return z}function s(R,z){var B=R.sortIndex-z.sortIndex;return B!==0?B:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,y=!1,v=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=R)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function x(R){if(b=!1,w(R),!v)if(n(l)!==null)v=!0,J(L);else{var z=n(u);z!==null&&K(x,z.startTime-R)}}function L(R,z){v=!1,b&&(b=!1,m(N),N=-1),y=!0;var B=p;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||R&&!M());){var E=f.callback;if(typeof E=="function"){f.callback=null,p=f.priorityLevel;var I=E(f.expirationTime<=z);z=t.unstable_now(),typeof I=="function"?f.callback=I:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var P=!0;else{var $=n(u);$!==null&&K(x,$.startTime-z),P=!1}return P}finally{f=null,p=B,y=!1}}var k=!1,S=null,N=-1,C=5,T=-1;function M(){return!(t.unstable_now()-T<C)}function F(){if(S!==null){var R=t.unstable_now();T=R;var z=!0;try{z=S(!0,R)}finally{z?A():(k=!1,S=null)}}else k=!1}var A;if(typeof g=="function")A=function(){g(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=F,A=function(){H.postMessage(null)}}else A=function(){_(F,0)};function J(R){S=R,k||(k=!0,A())}function K(R,z){N=_(function(){R(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,J(L))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var B=p;p=z;try{return R()}finally{p=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=p;p=R;try{return z()}finally{p=B}},t.unstable_scheduleCallback=function(R,z,B){var E=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?E+B:E):B=E,R){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=B+I,R={id:d++,callback:z,priorityLevel:R,startTime:B,expirationTime:I,sortIndex:-1},B>E?(R.sortIndex=B,e(u,R),n(l)===null&&R===n(u)&&(b?(m(N),N=-1):b=!0,K(x,B-E))):(R.sortIndex=I,e(l,R),v||y||(v=!0,J(L))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var z=p;return function(){var B=p;p=z;try{return R.apply(this,arguments)}finally{p=B}}}})(Lf);bf.exports=Lf;var Km=bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=c,nt=Km;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _f=new Set,hs={};function Dn(t,e){vr(t,e),vr(t+"Capture",e)}function vr(t,e){for(hs[t]=e,t=0;t<e.length;t++)_f.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,Jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},pc={};function Qm(t){return Ma.call(pc,t)?!0:Ma.call(fc,t)?!1:Jm.test(t)?pc[t]=!0:(fc[t]=!0,!1)}function Ym(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xm(t,e,n,r){if(e===null||typeof e>"u"||Ym(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function Wl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fl,Wl);Re[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fl,Wl);Re[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fl,Wl);Re[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vl(t,e,n,r){var s=Re.hasOwnProperty(e)?Re[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xm(e,n,s,r)&&(n=null),r||s===null?Qm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ft=Zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),Hl=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),Ra=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Ef=Symbol.for("react.offscreen"),gc=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=gc&&t[gc]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Jo;function Zr(t){if(Jo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jo=e&&e[1]||""}return`
`+Jo+t}var Qo=!1;function Yo(t,e){if(!t||Qo)return"";Qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zr(t):""}function ev(t){switch(t.tag){case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return t=Yo(t.type,!1),t;case 11:return t=Yo(t.type.render,!1),t;case 1:return t=Yo(t.type,!0),t;default:return""}}function Ia(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yn:return"Fragment";case Qn:return"Portal";case Ta:return"Profiler";case Hl:return"StrictMode";case Na:return"Suspense";case Ra:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kf:return(t.displayName||"Context")+".Consumer";case Sf:return(t._context.displayName||"Context")+".Provider";case Gl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ql:return e=t.displayName||null,e!==null?e:Ia(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return Ia(t(e))}catch{}}return null}function tv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(e);case 8:return e===Hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nv(t){var e=Cf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ri(t){t._valueTracker||(t._valueTracker=nv(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aa(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pf(t,e){e=e.checked,e!=null&&Vl(t,"checked",e,!1)}function Da(t,e){Pf(t,e);var n=fn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$a(t,e.type,n):e.hasOwnProperty("defaultValue")&&$a(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $a(t,e,n){(e!=="number"||Di(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jr=Array.isArray;function ur(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ua(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Jr(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fn(n)}}function Of(t,e){var n=fn(e.value),r=fn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,Tf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rv=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(t){rv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),es[e]=es[t]})});function Nf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||es.hasOwnProperty(t)&&es[t]?(""+e).trim():e+"px"}function Rf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(t,e){if(e){if(sv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Fa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,cr=null,dr=null;function xc(t){if(t=As(t)){if(typeof Va!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Eo(e),Va(t.stateNode,t.type,e))}}function If(t){cr?dr?dr.push(t):dr=[t]:cr=t}function Af(){if(cr){var t=cr,e=dr;if(dr=cr=null,xc(t),e)for(t=0;t<e.length;t++)xc(e[t])}}function Df(t,e){return t(e)}function $f(){}var Xo=!1;function Uf(t,e,n){if(Xo)return t(e,n);Xo=!0;try{return Df(t,e,n)}finally{Xo=!1,(cr!==null||dr!==null)&&($f(),Af())}}function ps(t,e){var n=t.stateNode;if(n===null)return null;var r=Eo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Ha=!1;if($t)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Ha=!1}function iv(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ts=!1,$i=null,Ui=!1,Ga=null,ov={onError:function(t){ts=!0,$i=t}};function av(t,e,n,r,s,i,o,a,l){ts=!1,$i=null,iv.apply(ov,arguments)}function lv(t,e,n,r,s,i,o,a,l){if(av.apply(this,arguments),ts){if(ts){var u=$i;ts=!1,$i=null}else throw Error(D(198));Ui||(Ui=!0,Ga=u)}}function $n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bc(t){if($n(t)!==t)throw Error(D(188))}function uv(t){var e=t.alternate;if(!e){if(e=$n(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return bc(s),t;if(i===r)return bc(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Bf(t){return t=uv(t),t!==null?Ff(t):null}function Ff(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ff(t);if(e!==null)return e;t=t.sibling}return null}var Wf=nt.unstable_scheduleCallback,Lc=nt.unstable_cancelCallback,cv=nt.unstable_shouldYield,dv=nt.unstable_requestPaint,be=nt.unstable_now,hv=nt.unstable_getCurrentPriorityLevel,Zl=nt.unstable_ImmediatePriority,Vf=nt.unstable_UserBlockingPriority,zi=nt.unstable_NormalPriority,fv=nt.unstable_LowPriority,Hf=nt.unstable_IdlePriority,Lo=null,Ct=null;function pv(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:vv,gv=Math.log,mv=Math.LN2;function vv(t){return t>>>=0,t===0?32:31-(gv(t)/mv|0)|0}var ii=64,oi=4194304;function Qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Qr(a):(i&=o,i!==0&&(r=Qr(i)))}else o=n&~s,o!==0?r=Qr(o):i!==0&&(r=Qr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wt(e),s=1<<n,r|=t[n],e&=~s;return r}function yv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function qa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gf(){var t=ii;return ii<<=1,!(ii&4194240)&&(ii=64),t}function ea(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=n}function xv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function qf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kf,Ql,Zf,Jf,Qf,Ka=!1,ai=[],rn=null,sn=null,on=null,gs=new Map,ms=new Map,Qt=[],bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(t,e){switch(t){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":gs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function Dr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=As(e),e!==null&&Ql(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lv(t,e,n,r,s){switch(e){case"focusin":return rn=Dr(rn,t,e,n,r,s),!0;case"dragenter":return sn=Dr(sn,t,e,n,r,s),!0;case"mouseover":return on=Dr(on,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gs.set(i,Dr(gs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ms.set(i,Dr(ms.get(i)||null,t,e,n,r,s)),!0}return!1}function Yf(t){var e=En(t.target);if(e!==null){var n=$n(e);if(n!==null){if(e=n.tag,e===13){if(e=zf(n),e!==null){t.blockedOn=e,Qf(t.priority,function(){Zf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ei(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Za(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wa=r,n.target.dispatchEvent(r),Wa=null}else return e=As(n),e!==null&&Ql(e),t.blockedOn=n,!1;e.shift()}return!0}function Sc(t,e,n){Ei(t)&&n.delete(e)}function _v(){Ka=!1,rn!==null&&Ei(rn)&&(rn=null),sn!==null&&Ei(sn)&&(sn=null),on!==null&&Ei(on)&&(on=null),gs.forEach(Sc),ms.forEach(Sc)}function $r(t,e){t.blockedOn===e&&(t.blockedOn=null,Ka||(Ka=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,_v)))}function vs(t){function e(s){return $r(s,t)}if(0<ai.length){$r(ai[0],t);for(var n=1;n<ai.length;n++){var r=ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rn!==null&&$r(rn,t),sn!==null&&$r(sn,t),on!==null&&$r(on,t),gs.forEach(e),ms.forEach(e),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Yf(n),n.blockedOn===null&&Qt.shift()}var hr=Ft.ReactCurrentBatchConfig,Fi=!0;function Sv(t,e,n,r){var s=ue,i=hr.transition;hr.transition=null;try{ue=1,Yl(t,e,n,r)}finally{ue=s,hr.transition=i}}function kv(t,e,n,r){var s=ue,i=hr.transition;hr.transition=null;try{ue=4,Yl(t,e,n,r)}finally{ue=s,hr.transition=i}}function Yl(t,e,n,r){if(Fi){var s=Za(t,e,n,r);if(s===null)ca(t,e,r,Wi,n),_c(t,r);else if(Lv(s,t,e,n,r))r.stopPropagation();else if(_c(t,r),e&4&&-1<bv.indexOf(t)){for(;s!==null;){var i=As(s);if(i!==null&&Kf(i),i=Za(t,e,n,r),i===null&&ca(t,e,r,Wi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ca(t,e,r,null,n)}}var Wi=null;function Za(t,e,n,r){if(Wi=null,t=Kl(r),t=En(t),t!==null)if(e=$n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wi=t,null}function Xf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hv()){case Zl:return 1;case Vf:return 4;case zi:case fv:return 16;case Hf:return 536870912;default:return 16}default:return 16}}var en=null,Xl=null,Ci=null;function ep(){if(Ci)return Ci;var t,e=Xl,n=e.length,r,s="value"in en?en.value:en.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ci=s.slice(t,1<r?1-r:void 0)}function ji(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function kc(){return!1}function st(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:kc,this.isPropagationStopped=kc,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),e}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=st(Cr),Is=we({},Cr,{view:0,detail:0}),Ev=st(Is),ta,na,Ur,_o=we({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(ta=t.screenX-Ur.screenX,na=t.screenY-Ur.screenY):na=ta=0,Ur=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Ec=st(_o),Cv=we({},_o,{dataTransfer:0}),jv=st(Cv),Pv=we({},Is,{relatedTarget:0}),ra=st(Pv),Ov=we({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=st(Ov),Tv=we({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nv=st(Tv),Rv=we({},Cr,{data:0}),Cc=st(Rv),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $v(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dv[t])?!!e[t]:!1}function tu(){return $v}var Uv=we({},Is,{key:function(t){if(t.key){var e=Iv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Av[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(t){return t.type==="keypress"?ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zv=st(Uv),Bv=we({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=st(Bv),Fv=we({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),Wv=st(Fv),Vv=we({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hv=st(Vv),Gv=we({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=st(Gv),Kv=[9,13,27,32],nu=$t&&"CompositionEvent"in window,ns=null;$t&&"documentMode"in document&&(ns=document.documentMode);var Zv=$t&&"TextEvent"in window&&!ns,tp=$t&&(!nu||ns&&8<ns&&11>=ns),Pc=" ",Oc=!1;function np(t,e){switch(t){case"keyup":return Kv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xn=!1;function Jv(t,e){switch(t){case"compositionend":return rp(e);case"keypress":return e.which!==32?null:(Oc=!0,Pc);case"textInput":return t=e.data,t===Pc&&Oc?null:t;default:return null}}function Qv(t,e){if(Xn)return t==="compositionend"||!nu&&np(t,e)?(t=ep(),Ci=Xl=en=null,Xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tp&&e.locale!=="ko"?null:e.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yv[t.type]:e==="textarea"}function sp(t,e,n,r){If(r),e=Vi(e,"onChange"),0<e.length&&(n=new eu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rs=null,ys=null;function Xv(t){gp(t,0)}function So(t){var e=nr(t);if(jf(e))return t}function ey(t,e){if(t==="change")return e}var ip=!1;if($t){var sa;if($t){var ia="oninput"in document;if(!ia){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),ia=typeof Tc.oninput=="function"}sa=ia}else sa=!1;ip=sa&&(!document.documentMode||9<document.documentMode)}function Nc(){rs&&(rs.detachEvent("onpropertychange",op),ys=rs=null)}function op(t){if(t.propertyName==="value"&&So(ys)){var e=[];sp(e,ys,t,Kl(t)),Uf(Xv,e)}}function ty(t,e,n){t==="focusin"?(Nc(),rs=e,ys=n,rs.attachEvent("onpropertychange",op)):t==="focusout"&&Nc()}function ny(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(ys)}function ry(t,e){if(t==="click")return So(e)}function sy(t,e){if(t==="input"||t==="change")return So(e)}function iy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:iy;function ws(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ma.call(e,s)||!bt(t[s],e[s]))return!1}return!0}function Rc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ic(t,e){var n=Rc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rc(n)}}function ap(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ap(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lp(){for(var t=window,e=Di();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Di(t.document)}return e}function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oy(t){var e=lp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ap(n.ownerDocument.documentElement,n)){if(r!==null&&ru(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ic(n,i);var o=Ic(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ay=$t&&"documentMode"in document&&11>=document.documentMode,er=null,Ja=null,ss=null,Qa=!1;function Ac(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||er==null||er!==Di(r)||(r=er,"selectionStart"in r&&ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&ws(ss,r)||(ss=r,r=Vi(Ja,"onSelect"),0<r.length&&(e=new eu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=er)))}function ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var tr={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},oa={},up={};$t&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ko(t){if(oa[t])return oa[t];if(!tr[t])return t;var e=tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in up)return oa[t]=e[n];return t}var cp=ko("animationend"),dp=ko("animationiteration"),hp=ko("animationstart"),fp=ko("transitionend"),pp=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(t,e){pp.set(t,e),Dn(e,[t])}for(var aa=0;aa<Dc.length;aa++){var la=Dc[aa],ly=la.toLowerCase(),uy=la[0].toUpperCase()+la.slice(1);gn(ly,"on"+uy)}gn(cp,"onAnimationEnd");gn(dp,"onAnimationIteration");gn(hp,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(fp,"onTransitionEnd");vr("onMouseEnter",["mouseout","mouseover"]);vr("onMouseLeave",["mouseout","mouseover"]);vr("onPointerEnter",["pointerout","pointerover"]);vr("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function $c(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lv(r,e,void 0,t),t.currentTarget=null}function gp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$c(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$c(s,a,u),i=l}}}if(Ui)throw t=Ga,Ui=!1,Ga=null,t}function he(t,e){var n=e[nl];n===void 0&&(n=e[nl]=new Set);var r=t+"__bubble";n.has(r)||(mp(e,t,2,!1),n.add(r))}function ua(t,e,n){var r=0;e&&(r|=4),mp(n,t,r,e)}var ci="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[ci]){t[ci]=!0,_f.forEach(function(n){n!=="selectionchange"&&(cy.has(n)||ua(n,!1,t),ua(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ci]||(e[ci]=!0,ua("selectionchange",!1,e))}}function mp(t,e,n,r){switch(Xf(e)){case 1:var s=Sv;break;case 4:s=kv;break;default:s=Yl}n=s.bind(null,e,n,t),s=void 0,!Ha||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ca(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=En(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Uf(function(){var u=i,d=Kl(n),f=[];e:{var p=pp.get(t);if(p!==void 0){var y=eu,v=t;switch(t){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":y=zv;break;case"focusin":v="focus",y=ra;break;case"focusout":v="blur",y=ra;break;case"beforeblur":case"afterblur":y=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Wv;break;case cp:case dp:case hp:y=Mv;break;case fp:y=Hv;break;case"scroll":y=Ev;break;case"wheel":y=qv;break;case"copy":case"cut":case"paste":y=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=jc}var b=(e&4)!==0,_=!b&&t==="scroll",m=b?p!==null?p+"Capture":null:p;b=[];for(var g=u,w;g!==null;){w=g;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,m!==null&&(x=ps(g,m),x!=null&&b.push(bs(g,x,w)))),_)break;g=g.return}0<b.length&&(p=new y(p,v,null,n,d),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Wa&&(v=n.relatedTarget||n.fromElement)&&(En(v)||v[Ut]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?En(v):null,v!==null&&(_=$n(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=Ec,x="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=jc,x="onPointerLeave",m="onPointerEnter",g="pointer"),_=y==null?p:nr(y),w=v==null?p:nr(v),p=new b(x,g+"leave",y,n,d),p.target=_,p.relatedTarget=w,x=null,En(d)===u&&(b=new b(m,g+"enter",v,n,d),b.target=w,b.relatedTarget=_,x=b),_=x,y&&v)t:{for(b=y,m=v,g=0,w=b;w;w=qn(w))g++;for(w=0,x=m;x;x=qn(x))w++;for(;0<g-w;)b=qn(b),g--;for(;0<w-g;)m=qn(m),w--;for(;g--;){if(b===m||m!==null&&b===m.alternate)break t;b=qn(b),m=qn(m)}b=null}else b=null;y!==null&&Uc(f,p,y,b,!1),v!==null&&_!==null&&Uc(f,_,v,b,!0)}}e:{if(p=u?nr(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var L=ey;else if(Mc(p))if(ip)L=sy;else{L=ny;var k=ty}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=ry);if(L&&(L=L(t,u))){sp(f,L,n,d);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&$a(p,"number",p.value)}switch(k=u?nr(u):window,t){case"focusin":(Mc(k)||k.contentEditable==="true")&&(er=k,Ja=u,ss=null);break;case"focusout":ss=Ja=er=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Ac(f,n,d);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":Ac(f,n,d)}var S;if(nu)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Xn?np(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(tp&&n.locale!=="ko"&&(Xn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Xn&&(S=ep()):(en=d,Xl="value"in en?en.value:en.textContent,Xn=!0)),k=Vi(u,N),0<k.length&&(N=new Cc(N,t,null,n,d),f.push({event:N,listeners:k}),S?N.data=S:(S=rp(n),S!==null&&(N.data=S)))),(S=Zv?Jv(t,n):Qv(t,n))&&(u=Vi(u,"onBeforeInput"),0<u.length&&(d=new Cc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}gp(f,e)})}function bs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ps(t,n),i!=null&&r.unshift(bs(t,i,s)),i=ps(t,e),i!=null&&r.push(bs(t,i,s))),t=t.return}return r}function qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uc(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ps(n,i),l!=null&&o.unshift(bs(n,l,a))):s||(l=ps(n,i),l!=null&&o.push(bs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function zc(t){return(typeof t=="string"?t:""+t).replace(dy,`
`).replace(hy,"")}function di(t,e,n){if(e=zc(e),zc(t)!==e&&n)throw Error(D(425))}function Hi(){}var Ya=null,Xa=null;function el(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(t){return Bc.resolve(null).then(t).catch(gy)}:tl;function gy(t){setTimeout(function(){throw t})}function da(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vs(e)}function an(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Et="__reactFiber$"+jr,Ls="__reactProps$"+jr,Ut="__reactContainer$"+jr,nl="__reactEvents$"+jr,my="__reactListeners$"+jr,vy="__reactHandles$"+jr;function En(t){var e=t[Et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fc(t);t!==null;){if(n=t[Et])return n;t=Fc(t)}return e}t=n,n=t.parentNode}return null}function As(t){return t=t[Et]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Eo(t){return t[Ls]||null}var rl=[],rr=-1;function mn(t){return{current:t}}function fe(t){0>rr||(t.current=rl[rr],rl[rr]=null,rr--)}function de(t,e){rr++,rl[rr]=t.current,t.current=e}var pn={},$e=mn(pn),Ke=mn(!1),Tn=pn;function yr(t,e){var n=t.type.contextTypes;if(!n)return pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(t){return t=t.childContextTypes,t!=null}function Gi(){fe(Ke),fe($e)}function Wc(t,e,n){if($e.current!==pn)throw Error(D(168));de($e,e),de(Ke,n)}function vp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,tv(t)||"Unknown",s));return we({},n,r)}function qi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pn,Tn=$e.current,de($e,t),de(Ke,Ke.current),!0}function Vc(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=vp(t,e,Tn),r.__reactInternalMemoizedMergedChildContext=t,fe(Ke),fe($e),de($e,t)):fe(Ke),de(Ke,n)}var Nt=null,Co=!1,ha=!1;function yp(t){Nt===null?Nt=[t]:Nt.push(t)}function yy(t){Co=!0,yp(t)}function vn(){if(!ha&&Nt!==null){ha=!0;var t=0,e=ue;try{var n=Nt;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nt=null,Co=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(t+1)),Wf(Zl,vn),s}finally{ue=e,ha=!1}}return null}var sr=[],ir=0,Ki=null,Zi=0,ot=[],at=0,Nn=null,Rt=1,It="";function Ln(t,e){sr[ir++]=Zi,sr[ir++]=Ki,Ki=t,Zi=e}function wp(t,e,n){ot[at++]=Rt,ot[at++]=It,ot[at++]=Nn,Nn=t;var r=Rt;t=It;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-wt(e)+s|n<<s|r,It=i+t}else Rt=1<<i|n<<s|r,It=t}function su(t){t.return!==null&&(Ln(t,1),wp(t,1,0))}function iu(t){for(;t===Ki;)Ki=sr[--ir],sr[ir]=null,Zi=sr[--ir],sr[ir]=null;for(;t===Nn;)Nn=ot[--at],ot[at]=null,It=ot[--at],ot[at]=null,Rt=ot[--at],ot[at]=null}var tt=null,et=null,ge=!1,yt=null;function xp(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tt=t,et=an(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nn!==null?{id:Rt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tt=t,et=null,!0):!1;default:return!1}}function sl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function il(t){if(ge){var e=et;if(e){var n=e;if(!Hc(t,e)){if(sl(t))throw Error(D(418));e=an(n.nextSibling);var r=tt;e&&Hc(t,e)?xp(r,n):(t.flags=t.flags&-4097|2,ge=!1,tt=t)}}else{if(sl(t))throw Error(D(418));t.flags=t.flags&-4097|2,ge=!1,tt=t}}}function Gc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tt=t}function hi(t){if(t!==tt)return!1;if(!ge)return Gc(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!el(t.type,t.memoizedProps)),e&&(e=et)){if(sl(t))throw bp(),Error(D(418));for(;e;)xp(t,e),e=an(e.nextSibling)}if(Gc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=an(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=tt?an(t.stateNode.nextSibling):null;return!0}function bp(){for(var t=et;t;)t=an(t.nextSibling)}function wr(){et=tt=null,ge=!1}function ou(t){yt===null?yt=[t]:yt.push(t)}var wy=Ft.ReactCurrentBatchConfig;function zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function fi(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qc(t){var e=t._init;return e(t._payload)}function Lp(t){function e(m,g){if(t){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=dn(m,g),m.index=0,m.sibling=null,m}function i(m,g,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,w,x){return g===null||g.tag!==6?(g=wa(w,m.mode,x),g.return=m,g):(g=s(g,w),g.return=m,g)}function l(m,g,w,x){var L=w.type;return L===Yn?d(m,g,w.props.children,x,w.key):g!==null&&(g.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===qt&&qc(L)===g.type)?(x=s(g,w.props),x.ref=zr(m,g,w),x.return=m,x):(x=Ii(w.type,w.key,w.props,null,m.mode,x),x.ref=zr(m,g,w),x.return=m,x)}function u(m,g,w,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=xa(w,m.mode,x),g.return=m,g):(g=s(g,w.children||[]),g.return=m,g)}function d(m,g,w,x,L){return g===null||g.tag!==7?(g=Mn(w,m.mode,x,L),g.return=m,g):(g=s(g,w),g.return=m,g)}function f(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wa(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ni:return w=Ii(g.type,g.key,g.props,null,m.mode,w),w.ref=zr(m,null,g),w.return=m,w;case Qn:return g=xa(g,m.mode,w),g.return=m,g;case qt:var x=g._init;return f(m,x(g._payload),w)}if(Jr(g)||Ir(g))return g=Mn(g,m.mode,w,null),g.return=m,g;fi(m,g)}return null}function p(m,g,w,x){var L=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:a(m,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ni:return w.key===L?l(m,g,w,x):null;case Qn:return w.key===L?u(m,g,w,x):null;case qt:return L=w._init,p(m,g,L(w._payload),x)}if(Jr(w)||Ir(w))return L!==null?null:d(m,g,w,x,null);fi(m,w)}return null}function y(m,g,w,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(w)||null,a(g,m,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ni:return m=m.get(x.key===null?w:x.key)||null,l(g,m,x,L);case Qn:return m=m.get(x.key===null?w:x.key)||null,u(g,m,x,L);case qt:var k=x._init;return y(m,g,w,k(x._payload),L)}if(Jr(x)||Ir(x))return m=m.get(w)||null,d(g,m,x,L,null);fi(g,x)}return null}function v(m,g,w,x){for(var L=null,k=null,S=g,N=g=0,C=null;S!==null&&N<w.length;N++){S.index>N?(C=S,S=null):C=S.sibling;var T=p(m,S,w[N],x);if(T===null){S===null&&(S=C);break}t&&S&&T.alternate===null&&e(m,S),g=i(T,g,N),k===null?L=T:k.sibling=T,k=T,S=C}if(N===w.length)return n(m,S),ge&&Ln(m,N),L;if(S===null){for(;N<w.length;N++)S=f(m,w[N],x),S!==null&&(g=i(S,g,N),k===null?L=S:k.sibling=S,k=S);return ge&&Ln(m,N),L}for(S=r(m,S);N<w.length;N++)C=y(S,m,N,w[N],x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?N:C.key),g=i(C,g,N),k===null?L=C:k.sibling=C,k=C);return t&&S.forEach(function(M){return e(m,M)}),ge&&Ln(m,N),L}function b(m,g,w,x){var L=Ir(w);if(typeof L!="function")throw Error(D(150));if(w=L.call(w),w==null)throw Error(D(151));for(var k=L=null,S=g,N=g=0,C=null,T=w.next();S!==null&&!T.done;N++,T=w.next()){S.index>N?(C=S,S=null):C=S.sibling;var M=p(m,S,T.value,x);if(M===null){S===null&&(S=C);break}t&&S&&M.alternate===null&&e(m,S),g=i(M,g,N),k===null?L=M:k.sibling=M,k=M,S=C}if(T.done)return n(m,S),ge&&Ln(m,N),L;if(S===null){for(;!T.done;N++,T=w.next())T=f(m,T.value,x),T!==null&&(g=i(T,g,N),k===null?L=T:k.sibling=T,k=T);return ge&&Ln(m,N),L}for(S=r(m,S);!T.done;N++,T=w.next())T=y(S,m,N,T.value,x),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),g=i(T,g,N),k===null?L=T:k.sibling=T,k=T);return t&&S.forEach(function(F){return e(m,F)}),ge&&Ln(m,N),L}function _(m,g,w,x){if(typeof w=="object"&&w!==null&&w.type===Yn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ni:e:{for(var L=w.key,k=g;k!==null;){if(k.key===L){if(L=w.type,L===Yn){if(k.tag===7){n(m,k.sibling),g=s(k,w.props.children),g.return=m,m=g;break e}}else if(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===qt&&qc(L)===k.type){n(m,k.sibling),g=s(k,w.props),g.ref=zr(m,k,w),g.return=m,m=g;break e}n(m,k);break}else e(m,k);k=k.sibling}w.type===Yn?(g=Mn(w.props.children,m.mode,x,w.key),g.return=m,m=g):(x=Ii(w.type,w.key,w.props,null,m.mode,x),x.ref=zr(m,g,w),x.return=m,m=x)}return o(m);case Qn:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=s(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=xa(w,m.mode,x),g.return=m,m=g}return o(m);case qt:return k=w._init,_(m,g,k(w._payload),x)}if(Jr(w))return v(m,g,w,x);if(Ir(w))return b(m,g,w,x);fi(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,w),g.return=m,m=g):(n(m,g),g=wa(w,m.mode,x),g.return=m,m=g),o(m)):n(m,g)}return _}var xr=Lp(!0),_p=Lp(!1),Ji=mn(null),Qi=null,or=null,au=null;function lu(){au=or=Qi=null}function uu(t){var e=Ji.current;fe(Ji),t._currentValue=e}function ol(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fr(t,e){Qi=t,au=or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function dt(t){var e=t._currentValue;if(au!==t)if(t={context:t,memoizedValue:e,next:null},or===null){if(Qi===null)throw Error(D(308));or=t,Qi.dependencies={lanes:0,firstContext:t}}else or=or.next=t;return e}var Cn=null;function cu(t){Cn===null?Cn=[t]:Cn.push(t)}function Sp(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,cu(e)):(n.next=s.next,s.next=n),e.interleaved=n,zt(t,r)}function zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function At(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ln(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zt(t,n)}return s=r.interleaved,s===null?(e.next=e,cu(r)):(e.next=s.next,s.next=e),r.interleaved=e,zt(t,n)}function Pi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}function Kc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yi(t,e,n,r){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(y,f,p):v,p==null)break e;f=we({},f,p);break e;case 2:Kt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);In|=o,t.lanes=o,t.memoizedState=f}}function Zc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ds={},jt=mn(Ds),_s=mn(Ds),Ss=mn(Ds);function jn(t){if(t===Ds)throw Error(D(174));return t}function hu(t,e){switch(de(Ss,e),de(_s,t),de(jt,Ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:za(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=za(e,t)}fe(jt),de(jt,e)}function br(){fe(jt),fe(_s),fe(Ss)}function Ep(t){jn(Ss.current);var e=jn(jt.current),n=za(e,t.type);e!==n&&(de(_s,t),de(jt,n))}function fu(t){_s.current===t&&(fe(jt),fe(_s))}var ve=mn(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fa=[];function pu(){for(var t=0;t<fa.length;t++)fa[t]._workInProgressVersionPrimary=null;fa.length=0}var Oi=Ft.ReactCurrentDispatcher,pa=Ft.ReactCurrentBatchConfig,Rn=0,ye=null,Ee=null,Oe=null,eo=!1,is=!1,ks=0,xy=0;function Ie(){throw Error(D(321))}function gu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bt(t[n],e[n]))return!1;return!0}function mu(t,e,n,r,s,i){if(Rn=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oi.current=t===null||t.memoizedState===null?Sy:ky,t=n(r,s),is){i=0;do{if(is=!1,ks=0,25<=i)throw Error(D(301));i+=1,Oe=Ee=null,e.updateQueue=null,Oi.current=Ey,t=n(r,s)}while(is)}if(Oi.current=to,e=Ee!==null&&Ee.next!==null,Rn=0,Oe=Ee=ye=null,eo=!1,e)throw Error(D(300));return t}function vu(){var t=ks!==0;return ks=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ye.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function ht(){if(Ee===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Oe===null?ye.memoizedState:Oe.next;if(e!==null)Oe=e,Ee=t;else{if(t===null)throw Error(D(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Oe===null?ye.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Es(t,e){return typeof e=="function"?e(t):e}function ga(t){var e=ht(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Rn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ye.lanes|=d,In|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,bt(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ye.lanes|=i,In|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ma(t){var e=ht(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bt(i,e.memoizedState)||(qe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Cp(){}function jp(t,e){var n=ye,r=ht(),s=e(),i=!bt(r.memoizedState,s);if(i&&(r.memoizedState=s,qe=!0),r=r.queue,yu(Mp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Cs(9,Op.bind(null,n,r,s,e),void 0,null),Me===null)throw Error(D(349));Rn&30||Pp(n,e,s)}return s}function Pp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Op(t,e,n,r){e.value=n,e.getSnapshot=r,Tp(e)&&Np(t)}function Mp(t,e,n){return n(function(){Tp(e)&&Np(t)})}function Tp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bt(t,n)}catch{return!0}}function Np(t){var e=zt(t,1);e!==null&&xt(e,t,1,-1)}function Jc(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e.queue=t,t=t.dispatch=_y.bind(null,ye,t),[e.memoizedState,t]}function Cs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rp(){return ht().memoizedState}function Mi(t,e,n,r){var s=St();ye.flags|=t,s.memoizedState=Cs(1|e,n,void 0,r===void 0?null:r)}function jo(t,e,n,r){var s=ht();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&gu(r,o.deps)){s.memoizedState=Cs(e,n,i,r);return}}ye.flags|=t,s.memoizedState=Cs(1|e,n,i,r)}function Qc(t,e){return Mi(8390656,8,t,e)}function yu(t,e){return jo(2048,8,t,e)}function Ip(t,e){return jo(4,2,t,e)}function Ap(t,e){return jo(4,4,t,e)}function Dp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $p(t,e,n){return n=n!=null?n.concat([t]):null,jo(4,4,Dp.bind(null,e,t),n)}function wu(){}function Up(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zp(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bp(t,e,n){return Rn&21?(bt(n,e)||(n=Gf(),ye.lanes|=n,In|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function by(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{ue=n,pa.transition=r}}function Fp(){return ht().memoizedState}function Ly(t,e,n){var r=cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wp(t))Vp(e,n);else if(n=Sp(t,e,n,r),n!==null){var s=Be();xt(n,t,r,s),Hp(n,e,r)}}function _y(t,e,n){var r=cn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wp(t))Vp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bt(a,o)){var l=e.interleaved;l===null?(s.next=s,cu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Sp(t,e,s,r),n!==null&&(s=Be(),xt(n,t,r,s),Hp(n,e,r))}}function Wp(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function Vp(t,e){is=eo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}var to={readContext:dt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Sy={readContext:dt,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:dt,useEffect:Qc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mi(4194308,4,Dp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mi(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ly.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Jc,useDebugValue:wu,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Jc(!1),e=t[0];return t=by.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,s=St();if(ge){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Me===null)throw Error(D(349));Rn&30||Pp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Qc(Mp.bind(null,r,i,t),[t]),r.flags|=2048,Cs(9,Op.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=St(),e=Me.identifierPrefix;if(ge){var n=It,r=Rt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ks++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ky={readContext:dt,useCallback:Up,useContext:dt,useEffect:yu,useImperativeHandle:$p,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:zp,useReducer:ga,useRef:Rp,useState:function(){return ga(Es)},useDebugValue:wu,useDeferredValue:function(t){var e=ht();return Bp(e,Ee.memoizedState,t)},useTransition:function(){var t=ga(Es)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1},Ey={readContext:dt,useCallback:Up,useContext:dt,useEffect:yu,useImperativeHandle:$p,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:zp,useReducer:ma,useRef:Rp,useState:function(){return ma(Es)},useDebugValue:wu,useDeferredValue:function(t){var e=ht();return Ee===null?e.memoizedState=t:Bp(e,Ee.memoizedState,t)},useTransition:function(){var t=ma(Es)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function al(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Po={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Be(),s=cn(t),i=At(r,s);i.payload=e,n!=null&&(i.callback=n),e=ln(t,i,s),e!==null&&(xt(e,t,s,r),Pi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Be(),s=cn(t),i=At(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ln(t,i,s),e!==null&&(xt(e,t,s,r),Pi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Be(),r=cn(t),s=At(n,r);s.tag=2,e!=null&&(s.callback=e),e=ln(t,s,r),e!==null&&(xt(e,t,r,n),Pi(e,t,r))}};function Yc(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ws(n,r)||!ws(s,i):!0}function Gp(t,e,n){var r=!1,s=pn,i=e.contextType;return typeof i=="object"&&i!==null?i=dt(i):(s=Ze(e)?Tn:$e.current,r=e.contextTypes,i=(r=r!=null)?yr(t,s):pn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Po,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Xc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Po.enqueueReplaceState(e,e.state,null)}function ll(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},du(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dt(i):(i=Ze(e)?Tn:$e.current,s.context=yr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(al(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Po.enqueueReplaceState(s,s.state,null),Yi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lr(t,e){try{var n="",r=e;do n+=ev(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function va(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cy=typeof WeakMap=="function"?WeakMap:Map;function qp(t,e,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ro||(ro=!0,wl=r),ul(t,e)},n}function Kp(t,e,n){n=At(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,e),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ed(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cy;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=By.bind(null,t,e,n),e.then(t,t))}function td(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=At(-1,1),e.tag=2,ln(n,e,1))),n.lanes|=1),t)}var jy=Ft.ReactCurrentOwner,qe=!1;function ze(t,e,n,r){e.child=t===null?_p(e,null,n,r):xr(e,t.child,n,r)}function rd(t,e,n,r,s){n=n.render;var i=e.ref;return fr(e,s),r=mu(t,e,n,r,i,s),n=vu(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(ge&&n&&su(e),e.flags|=1,ze(t,e,r,s),e.child)}function sd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zp(t,e,i,r,s)):(t=Ii(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(o,r)&&t.ref===e.ref)return Bt(t,e,s)}return e.flags|=1,t=dn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ws(i,r)&&t.ref===e.ref)if(qe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,Bt(t,e,s)}return cl(t,e,n,r,s)}function Jp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(lr,Ye),Ye|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(lr,Ye),Ye|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(lr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,de(lr,Ye),Ye|=r;return ze(t,e,s,n),e.child}function Qp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cl(t,e,n,r,s){var i=Ze(n)?Tn:$e.current;return i=yr(e,i),fr(e,s),n=mu(t,e,n,r,i,s),r=vu(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(ge&&r&&su(e),e.flags|=1,ze(t,e,n,s),e.child)}function id(t,e,n,r,s){if(Ze(n)){var i=!0;qi(e)}else i=!1;if(fr(e,s),e.stateNode===null)Ti(t,e),Gp(e,n,r),ll(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ze(n)?Tn:$e.current,u=yr(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xc(e,o,r,u),Kt=!1;var p=e.memoizedState;o.state=p,Yi(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ke.current||Kt?(typeof d=="function"&&(al(e,n,d,r),l=e.memoizedState),(a=Kt||Yc(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gt(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=Ze(n)?Tn:$e.current,l=yr(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Xc(e,o,r,l),Kt=!1,p=e.memoizedState,o.state=p,Yi(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||Ke.current||Kt?(typeof y=="function"&&(al(e,n,y,r),v=e.memoizedState),(u=Kt||Yc(e,n,u,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return dl(t,e,n,r,i,s)}function dl(t,e,n,r,s,i){Qp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Vc(e,n,!1),Bt(t,e,i);r=e.stateNode,jy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xr(e,t.child,null,i),e.child=xr(e,null,a,i)):ze(t,e,a,i),e.memoizedState=r.state,s&&Vc(e,n,!0),e.child}function Yp(t){var e=t.stateNode;e.pendingContext?Wc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wc(t,e.context,!1),hu(t,e.containerInfo)}function od(t,e,n,r,s){return wr(),ou(s),e.flags|=256,ze(t,e,n,r),e.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xp(t,e,n){var r=e.pendingProps,s=ve.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ve,s&1),t===null)return il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=To(o,r,0,null),t=Mn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fl(n),e.memoizedState=hl,t):xu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Py(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?fl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hl,r}return i=t.child,t=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xu(t,e){return e=To({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pi(t,e,n,r){return r!==null&&ou(r),xr(e,t.child,null,n),t=xu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Py(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=va(Error(D(422))),pi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=To({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xr(e,t.child,null,o),e.child.memoizedState=fl(o),e.memoizedState=hl,i);if(!(e.mode&1))return pi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=va(i,r,void 0),pi(t,e,o,r)}if(a=(o&t.childLanes)!==0,qe||a){if(r=Me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(t,s),xt(r,t,s,-1))}return Eu(),r=va(Error(D(421))),pi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,et=an(s.nextSibling),tt=e,ge=!0,yt=null,t!==null&&(ot[at++]=Rt,ot[at++]=It,ot[at++]=Nn,Rt=t.id,It=t.overflow,Nn=e),e=xu(e,r.children),e.flags|=4096,e)}function ad(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ol(t.return,e,n)}function ya(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ze(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ad(t,n,e);else if(t.tag===19)ad(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ya(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ya(e,!0,n,null,i);break;case"together":ya(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ti(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Oy(t,e,n){switch(e.tag){case 3:Yp(e),wr();break;case 5:Ep(e);break;case 1:Ze(e.type)&&qi(e);break;case 4:hu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;de(Ji,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?Xp(t,e,n):(de(ve,ve.current&1),t=Bt(t,e,n),t!==null?t.sibling:null);de(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,Jp(t,e,n)}return Bt(t,e,n)}var tg,pl,ng,rg;tg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pl=function(){};ng=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,jn(jt.current);var i=null;switch(n){case"input":s=Aa(t,s),r=Aa(t,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=Ua(t,s),r=Ua(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hi)}Ba(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Br(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function My(t,e,n){var r=e.pendingProps;switch(iu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ze(e.type)&&Gi(),Ae(e),null;case 3:return r=e.stateNode,br(),fe(Ke),fe($e),pu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yt!==null&&(Ll(yt),yt=null))),pl(t,e),Ae(e),null;case 5:fu(e);var s=jn(Ss.current);if(n=e.type,t!==null&&e.stateNode!=null)ng(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Ae(e),null}if(t=jn(jt.current),hi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Et]=e,r[Ls]=i,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)he(Yr[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":mc(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":yc(r,i),he("invalid",r)}Ba(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&di(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&di(r.textContent,a,t),s=["children",""+a]):hs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":ri(r),vc(r,i,!0);break;case"textarea":ri(r),wc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Et]=e,t[Ls]=r,tg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fa(n,r),n){case"dialog":he("cancel",t),he("close",t),s=r;break;case"iframe":case"object":case"embed":he("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)he(Yr[s],t);s=r;break;case"source":he("error",t),s=r;break;case"img":case"image":case"link":he("error",t),he("load",t),s=r;break;case"details":he("toggle",t),s=r;break;case"input":mc(t,r),s=Aa(t,r),he("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),he("invalid",t);break;case"textarea":yc(t,r),s=Ua(t,r),he("invalid",t);break;default:s=r}Ba(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Rf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fs(t,l):typeof l=="number"&&fs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&he("scroll",t):l!=null&&Vl(t,i,l,o))}switch(n){case"input":ri(t),vc(t,r,!1);break;case"textarea":ri(t),wc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ur(t,!!r.multiple,i,!1):r.defaultValue!=null&&ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)rg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=jn(Ss.current),jn(jt.current),hi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Et]=e,(i=r.nodeValue!==n)&&(t=tt,t!==null))switch(t.tag){case 3:di(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=e,e.stateNode=r}return Ae(e),null;case 13:if(fe(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&et!==null&&e.mode&1&&!(e.flags&128))bp(),wr(),e.flags|=98560,i=!1;else if(i=hi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Et]=e}else wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),i=!1}else yt!==null&&(Ll(yt),yt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Ce===0&&(Ce=3):Eu())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return br(),pl(t,e),t===null&&xs(e.stateNode.containerInfo),Ae(e),null;case 10:return uu(e.type._context),Ae(e),null;case 17:return Ze(e.type)&&Gi(),Ae(e),null;case 19:if(fe(ve),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Br(i,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xi(t),o!==null){for(e.flags|=128,Br(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&be()>_r&&(e.flags|=128,r=!0,Br(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return Ae(e),null}else 2*be()-i.renderingStartTime>_r&&n!==1073741824&&(e.flags|=128,r=!0,Br(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=ve.current,de(ve,r?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ye&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function Ty(t,e){switch(iu(e),e.tag){case 1:return Ze(e.type)&&Gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return br(),fe(Ke),fe($e),pu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fu(e),null;case 13:if(fe(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ve),null;case 4:return br(),null;case 10:return uu(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var gi=!1,De=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,V=null;function ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function gl(t,e,n){try{n()}catch(r){xe(t,e,r)}}var ld=!1;function Ry(t,e){if(Ya=Fi,t=lp(),ru(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:t,selectionRange:n},Fi=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,_=v.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:gt(e.type,b),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return v=ld,ld=!1,v}function os(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gl(e,n,i)}s=s.next}while(s!==r)}}function Oo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ml(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sg(t){var e=t.alternate;e!==null&&(t.alternate=null,sg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Et],delete e[Ls],delete e[nl],delete e[my],delete e[vy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ig(t){return t.tag===5||t.tag===3||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hi));else if(r!==4&&(t=t.child,t!==null))for(vl(t,e,n),t=t.sibling;t!==null;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}var Te=null,mt=!1;function Wt(t,e,n){for(n=n.child;n!==null;)og(t,e,n),n=n.sibling}function og(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 5:De||ar(n,e);case 6:var r=Te,s=mt;Te=null,Wt(t,e,n),Te=r,mt=s,Te!==null&&(mt?(t=Te,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(mt?(t=Te,n=n.stateNode,t.nodeType===8?da(t.parentNode,n):t.nodeType===1&&da(t,n),vs(t)):da(Te,n.stateNode));break;case 4:r=Te,s=mt,Te=n.stateNode.containerInfo,mt=!0,Wt(t,e,n),Te=r,mt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gl(n,e,o),s=s.next}while(s!==r)}Wt(t,e,n);break;case 1:if(!De&&(ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}Wt(t,e,n);break;case 21:Wt(t,e,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Wt(t,e,n),De=r):Wt(t,e,n);break;default:Wt(t,e,n)}}function cd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ny),e.forEach(function(r){var s=Wy.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,mt=!1;break e;case 3:Te=a.stateNode.containerInfo,mt=!0;break e;case 4:Te=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(Te===null)throw Error(D(160));og(i,o,s),Te=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ag(e,t),e=e.sibling}function ag(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),Lt(t),r&4){try{os(3,t,t.return),Oo(3,t)}catch(b){xe(t,t.return,b)}try{os(5,t,t.return)}catch(b){xe(t,t.return,b)}}break;case 1:ft(e,t),Lt(t),r&512&&n!==null&&ar(n,n.return);break;case 5:if(ft(e,t),Lt(t),r&512&&n!==null&&ar(n,n.return),t.flags&32){var s=t.stateNode;try{fs(s,"")}catch(b){xe(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pf(s,i),Fa(a,o);var u=Fa(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Rf(s,f):d==="dangerouslySetInnerHTML"?Tf(s,f):d==="children"?fs(s,f):Vl(s,d,f,u)}switch(a){case"input":Da(s,i);break;case"textarea":Of(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ur(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?ur(s,!!i.multiple,i.defaultValue,!0):ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ls]=i}catch(b){xe(t,t.return,b)}}break;case 6:if(ft(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){xe(t,t.return,b)}}break;case 3:if(ft(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vs(e.containerInfo)}catch(b){xe(t,t.return,b)}break;case 4:ft(e,t),Lt(t);break;case 13:ft(e,t),Lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_u=be())),r&4&&cd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(De=(u=De)||d,ft(e,t),De=u):ft(e,t),Lt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(V=t,d=t.child;d!==null;){for(f=V=d;V!==null;){switch(p=V,y=p.child,p.tag){case 0:case 11:case 14:case 15:os(4,p,p.return);break;case 1:ar(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){xe(r,n,b)}}break;case 5:ar(p,p.return);break;case 22:if(p.memoizedState!==null){hd(f);continue}}y!==null?(y.return=p,V=y):hd(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nf("display",o))}catch(b){xe(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){xe(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(e,t),Lt(t),r&4&&cd(t);break;case 21:break;default:ft(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ig(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fs(s,""),r.flags&=-33);var i=ud(t);yl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ud(t);vl(t,a,o);break;default:throw Error(D(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Iy(t,e,n){V=t,lg(t)}function lg(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||De;a=gi;var u=De;if(gi=o,(De=l)&&!u)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?fd(s):l!==null?(l.return=o,V=l):fd(s);for(;i!==null;)V=i,lg(i),i=i.sibling;V=s,gi=a,De=u}dd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):dd(t)}}function dd(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||Oo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zc(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zc(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}De||e.flags&512&&ml(e)}catch(p){xe(e,e.return,p)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function hd(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function fd(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oo(4,e)}catch(l){xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){xe(e,s,l)}}var i=e.return;try{ml(e)}catch(l){xe(e,i,l)}break;case 5:var o=e.return;try{ml(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var Ay=Math.ceil,no=Ft.ReactCurrentDispatcher,bu=Ft.ReactCurrentOwner,ut=Ft.ReactCurrentBatchConfig,oe=0,Me=null,_e=null,Ne=0,Ye=0,lr=mn(0),Ce=0,js=null,In=0,Mo=0,Lu=0,as=null,He=null,_u=0,_r=1/0,Mt=null,ro=!1,wl=null,un=null,mi=!1,tn=null,so=0,ls=0,xl=null,Ni=-1,Ri=0;function Be(){return oe&6?be():Ni!==-1?Ni:Ni=be()}function cn(t){return t.mode&1?oe&2&&Ne!==0?Ne&-Ne:wy.transition!==null?(Ri===0&&(Ri=Gf()),Ri):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Xf(t.type)),t):1}function xt(t,e,n,r){if(50<ls)throw ls=0,xl=null,Error(D(185));Rs(t,n,r),(!(oe&2)||t!==Me)&&(t===Me&&(!(oe&2)&&(Mo|=n),Ce===4&&Yt(t,Ne)),Je(t,r),n===1&&oe===0&&!(e.mode&1)&&(_r=be()+500,Co&&vn()))}function Je(t,e){var n=t.callbackNode;wv(t,e);var r=Bi(t,t===Me?Ne:0);if(r===0)n!==null&&Lc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lc(n),e===1)t.tag===0?yy(pd.bind(null,t)):yp(pd.bind(null,t)),py(function(){!(oe&6)&&vn()}),n=null;else{switch(qf(r)){case 1:n=Zl;break;case 4:n=Vf;break;case 16:n=zi;break;case 536870912:n=Hf;break;default:n=zi}n=mg(n,ug.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ug(t,e){if(Ni=-1,Ri=0,oe&6)throw Error(D(327));var n=t.callbackNode;if(pr()&&t.callbackNode!==n)return null;var r=Bi(t,t===Me?Ne:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=io(t,r);else{e=r;var s=oe;oe|=2;var i=dg();(Me!==t||Ne!==e)&&(Mt=null,_r=be()+500,On(t,e));do try{Uy();break}catch(a){cg(t,a)}while(!0);lu(),no.current=i,oe=s,_e!==null?e=0:(Me=null,Ne=0,e=Ce)}if(e!==0){if(e===2&&(s=qa(t),s!==0&&(r=s,e=bl(t,s))),e===1)throw n=js,On(t,0),Yt(t,r),Je(t,be()),n;if(e===6)Yt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Dy(s)&&(e=io(t,r),e===2&&(i=qa(t),i!==0&&(r=i,e=bl(t,i))),e===1))throw n=js,On(t,0),Yt(t,r),Je(t,be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:_n(t,He,Mt);break;case 3:if(Yt(t,r),(r&130023424)===r&&(e=_u+500-be(),10<e)){if(Bi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Be(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tl(_n.bind(null,t,He,Mt),e);break}_n(t,He,Mt);break;case 4:if(Yt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ay(r/1960))-r,10<r){t.timeoutHandle=tl(_n.bind(null,t,He,Mt),r);break}_n(t,He,Mt);break;case 5:_n(t,He,Mt);break;default:throw Error(D(329))}}}return Je(t,be()),t.callbackNode===n?ug.bind(null,t):null}function bl(t,e){var n=as;return t.current.memoizedState.isDehydrated&&(On(t,e).flags|=256),t=io(t,e),t!==2&&(e=He,He=n,e!==null&&Ll(e)),t}function Ll(t){He===null?He=t:He.push.apply(He,t)}function Dy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yt(t,e){for(e&=~Lu,e&=~Mo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wt(e),r=1<<n;t[n]=-1,e&=~r}}function pd(t){if(oe&6)throw Error(D(327));pr();var e=Bi(t,0);if(!(e&1))return Je(t,be()),null;var n=io(t,e);if(t.tag!==0&&n===2){var r=qa(t);r!==0&&(e=r,n=bl(t,r))}if(n===1)throw n=js,On(t,0),Yt(t,e),Je(t,be()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_n(t,He,Mt),Je(t,be()),null}function Su(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(_r=be()+500,Co&&vn())}}function An(t){tn!==null&&tn.tag===0&&!(oe&6)&&pr();var e=oe;oe|=1;var n=ut.transition,r=ue;try{if(ut.transition=null,ue=1,t)return t()}finally{ue=r,ut.transition=n,oe=e,!(oe&6)&&vn()}}function ku(){Ye=lr.current,fe(lr)}function On(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fy(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gi();break;case 3:br(),fe(Ke),fe($e),pu();break;case 5:fu(r);break;case 4:br();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:uu(r.type._context);break;case 22:case 23:ku()}n=n.return}if(Me=t,_e=t=dn(t.current,null),Ne=Ye=e,Ce=0,js=null,Lu=Mo=In=0,He=as=null,Cn!==null){for(e=0;e<Cn.length;e++)if(n=Cn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cn=null}return t}function cg(t,e){do{var n=_e;try{if(lu(),Oi.current=to,eo){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eo=!1}if(Rn=0,Oe=Ee=ye=null,is=!1,ks=0,bu.current=null,n===null||n.return===null){Ce=1,js=e,_e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=td(o);if(y!==null){y.flags&=-257,nd(y,o,a,i,e),y.mode&1&&ed(i,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){ed(i,u,e),Eu();break e}l=Error(D(426))}}else if(ge&&a.mode&1){var _=td(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),nd(_,o,a,i,e),ou(Lr(l,a));break e}}i=l=Lr(l,a),Ce!==4&&(Ce=2),as===null?as=[i]:as.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=qp(i,l,e);Kc(i,m);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(un===null||!un.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Kp(i,a,e);Kc(i,x);break e}}i=i.return}while(i!==null)}fg(n)}catch(L){e=L,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function dg(){var t=no.current;return no.current=to,t===null?to:t}function Eu(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Me===null||!(In&268435455)&&!(Mo&268435455)||Yt(Me,Ne)}function io(t,e){var n=oe;oe|=2;var r=dg();(Me!==t||Ne!==e)&&(Mt=null,On(t,e));do try{$y();break}catch(s){cg(t,s)}while(!0);if(lu(),oe=n,no.current=r,_e!==null)throw Error(D(261));return Me=null,Ne=0,Ce}function $y(){for(;_e!==null;)hg(_e)}function Uy(){for(;_e!==null&&!cv();)hg(_e)}function hg(t){var e=gg(t.alternate,t,Ye);t.memoizedProps=t.pendingProps,e===null?fg(t):_e=e,bu.current=null}function fg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ty(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,_e=null;return}}else if(n=My(n,e,Ye),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ce===0&&(Ce=5)}function _n(t,e,n){var r=ue,s=ut.transition;try{ut.transition=null,ue=1,zy(t,e,n,r)}finally{ut.transition=s,ue=r}return null}function zy(t,e,n,r){do pr();while(tn!==null);if(oe&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(xv(t,i),t===Me&&(_e=Me=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,mg(zi,function(){return pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var o=ue;ue=1;var a=oe;oe|=4,bu.current=null,Ry(t,n),ag(n,t),oy(Xa),Fi=!!Ya,Xa=Ya=null,t.current=n,Iy(n),dv(),oe=a,ue=o,ut.transition=i}else t.current=n;if(mi&&(mi=!1,tn=t,so=s),i=t.pendingLanes,i===0&&(un=null),pv(n.stateNode),Je(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ro)throw ro=!1,t=wl,wl=null,t;return so&1&&t.tag!==0&&pr(),i=t.pendingLanes,i&1?t===xl?ls++:(ls=0,xl=t):ls=0,vn(),null}function pr(){if(tn!==null){var t=qf(so),e=ut.transition,n=ue;try{if(ut.transition=null,ue=16>t?16:t,tn===null)var r=!1;else{if(t=tn,tn=null,so=0,oe&6)throw Error(D(331));var s=oe;for(oe|=4,V=t.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:os(8,d,i)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var p=d.sibling,y=d.return;if(sg(d),d===u){V=null;break}if(p!==null){p.return=y,V=p;break}V=y}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:os(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,V=m;break e}V=i.return}}var g=t.current;for(V=g;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=g;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oo(9,a)}}catch(L){xe(a,a.return,L)}if(a===o){V=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,V=x;break e}V=a.return}}if(oe=s,vn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Lo,t)}catch{}r=!0}return r}finally{ue=n,ut.transition=e}}return!1}function gd(t,e,n){e=Lr(n,e),e=qp(t,e,1),t=ln(t,e,1),e=Be(),t!==null&&(Rs(t,1,e),Je(t,e))}function xe(t,e,n){if(t.tag===3)gd(t,t,n);else for(;e!==null;){if(e.tag===3){gd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){t=Lr(n,t),t=Kp(e,t,1),e=ln(e,t,1),t=Be(),e!==null&&(Rs(e,1,t),Je(e,t));break}}e=e.return}}function By(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Be(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(Ne&n)===n&&(Ce===4||Ce===3&&(Ne&130023424)===Ne&&500>be()-_u?On(t,0):Lu|=n),Je(t,e)}function pg(t,e){e===0&&(t.mode&1?(e=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):e=1);var n=Be();t=zt(t,e),t!==null&&(Rs(t,e,n),Je(t,n))}function Fy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pg(t,n)}function Wy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),pg(t,n)}var gg;gg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,Oy(t,e,n);qe=!!(t.flags&131072)}else qe=!1,ge&&e.flags&1048576&&wp(e,Zi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ti(t,e),t=e.pendingProps;var s=yr(e,$e.current);fr(e,n),s=mu(null,e,r,t,s,n);var i=vu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(r)?(i=!0,qi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,du(e),s.updater=Po,e.stateNode=s,s._reactInternals=e,ll(e,r,t,n),e=dl(null,e,r,!0,i,n)):(e.tag=0,ge&&i&&su(e),ze(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ti(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Hy(r),t=gt(r,t),s){case 0:e=cl(null,e,r,t,n);break e;case 1:e=id(null,e,r,t,n);break e;case 11:e=rd(null,e,r,t,n);break e;case 14:e=sd(null,e,r,gt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),cl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),id(t,e,r,s,n);case 3:e:{if(Yp(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kp(t,e),Yi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lr(Error(D(423)),e),e=od(t,e,r,n,s);break e}else if(r!==s){s=Lr(Error(D(424)),e),e=od(t,e,r,n,s);break e}else for(et=an(e.stateNode.containerInfo.firstChild),tt=e,ge=!0,yt=null,n=_p(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===s){e=Bt(t,e,n);break e}ze(t,e,r,n)}e=e.child}return e;case 5:return Ep(e),t===null&&il(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,el(r,s)?o=null:i!==null&&el(r,i)&&(e.flags|=32),Qp(t,e),ze(t,e,o,n),e.child;case 6:return t===null&&il(e),null;case 13:return Xp(t,e,n);case 4:return hu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xr(e,null,r,n):ze(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),rd(t,e,r,s,n);case 7:return ze(t,e,e.pendingProps,n),e.child;case 8:return ze(t,e,e.pendingProps.children,n),e.child;case 12:return ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,de(Ji,r._currentValue),r._currentValue=o,i!==null)if(bt(i.value,o)){if(i.children===s.children&&!Ke.current){e=Bt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=At(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ol(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ol(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fr(e,n),s=dt(s),r=r(s),e.flags|=1,ze(t,e,r,n),e.child;case 14:return r=e.type,s=gt(r,e.pendingProps),s=gt(r.type,s),sd(t,e,r,s,n);case 15:return Zp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Ti(t,e),e.tag=1,Ze(r)?(t=!0,qi(e)):t=!1,fr(e,n),Gp(e,r,s),ll(e,r,s,n),dl(null,e,r,!0,t,n);case 19:return eg(t,e,n);case 22:return Jp(t,e,n)}throw Error(D(156,e.tag))};function mg(t,e){return Wf(t,e)}function Vy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,r){return new Vy(t,e,n,r)}function Cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hy(t){if(typeof t=="function")return Cu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gl)return 11;if(t===ql)return 14}return 2}function dn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ii(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yn:return Mn(n.children,s,i,e);case Hl:o=8,s|=8;break;case Ta:return t=lt(12,n,e,s|2),t.elementType=Ta,t.lanes=i,t;case Na:return t=lt(13,n,e,s),t.elementType=Na,t.lanes=i,t;case Ra:return t=lt(19,n,e,s),t.elementType=Ra,t.lanes=i,t;case Ef:return To(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sf:o=10;break e;case kf:o=9;break e;case Gl:o=11;break e;case ql:o=14;break e;case qt:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mn(t,e,n,r){return t=lt(7,t,r,e),t.lanes=n,t}function To(t,e,n,r){return t=lt(22,t,r,e),t.elementType=Ef,t.lanes=n,t.stateNode={isHidden:!1},t}function wa(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function xa(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gy(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ju(t,e,n,r,s,i,o,a,l){return t=new Gy(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(i),t}function qy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vg(t){if(!t)return pn;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Ze(n))return vp(t,n,e)}return e}function yg(t,e,n,r,s,i,o,a,l){return t=ju(n,r,!0,t,s,i,o,a,l),t.context=vg(null),n=t.current,r=Be(),s=cn(n),i=At(r,s),i.callback=e??null,ln(n,i,s),t.current.lanes=s,Rs(t,s,r),Je(t,r),t}function No(t,e,n,r){var s=e.current,i=Be(),o=cn(s);return n=vg(n),e.context===null?e.context=n:e.pendingContext=n,e=At(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ln(s,e,o),t!==null&&(xt(t,s,o,i),Pi(t,s,o)),o}function oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function md(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pu(t,e){md(t,e),(t=t.alternate)&&md(t,e)}function Ky(){return null}var wg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ou(t){this._internalRoot=t}Ro.prototype.render=Ou.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));No(t,e,null,null)};Ro.prototype.unmount=Ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){No(null,t,null,null)}),e[Ut]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qt.length&&e!==0&&e<Qt[n].priority;n++);Qt.splice(n,0,t),n===0&&Yf(t)}};function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Zy(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=oo(o);i.call(u)}}var o=yg(e,r,t,0,null,!1,!1,"",vd);return t._reactRootContainer=o,t[Ut]=o.current,xs(t.nodeType===8?t.parentNode:t),An(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=oo(l);a.call(u)}}var l=ju(t,0,!1,null,null,!1,!1,"",vd);return t._reactRootContainer=l,t[Ut]=l.current,xs(t.nodeType===8?t.parentNode:t),An(function(){No(e,l,n,r)}),l}function Ao(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oo(o);a.call(l)}}No(e,o,t,s)}else o=Zy(n,e,t,s,r);return oo(o)}Kf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qr(e.pendingLanes);n!==0&&(Jl(e,n|1),Je(e,be()),!(oe&6)&&(_r=be()+500,vn()))}break;case 13:An(function(){var r=zt(t,1);if(r!==null){var s=Be();xt(r,t,1,s)}}),Pu(t,1)}};Ql=function(t){if(t.tag===13){var e=zt(t,134217728);if(e!==null){var n=Be();xt(e,t,134217728,n)}Pu(t,134217728)}};Zf=function(t){if(t.tag===13){var e=cn(t),n=zt(t,e);if(n!==null){var r=Be();xt(n,t,e,r)}Pu(t,e)}};Jf=function(){return ue};Qf=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Va=function(t,e,n){switch(e){case"input":if(Da(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Eo(r);if(!s)throw Error(D(90));jf(r),Da(r,s)}}}break;case"textarea":Of(t,n);break;case"select":e=n.value,e!=null&&ur(t,!!n.multiple,e,!1)}};Df=Su;$f=An;var Jy={usingClientEntryPoint:!1,Events:[As,nr,Eo,If,Af,Su]},Fr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bf(t),t===null?null:t.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Lo=vi.inject(Qy),Ct=vi}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(e))throw Error(D(200));return qy(t,e,null,n)};rt.createRoot=function(t,e){if(!Mu(t))throw Error(D(299));var n=!1,r="",s=wg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ju(t,1,!1,null,null,n,!1,r,s),t[Ut]=e.current,xs(t.nodeType===8?t.parentNode:t),new Ou(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Bf(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return An(t)};rt.hydrate=function(t,e,n){if(!Io(e))throw Error(D(200));return Ao(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!Mu(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yg(e,null,t,1,n??null,s,!1,i,o),t[Ut]=e.current,xs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ro(e)};rt.render=function(t,e,n){if(!Io(e))throw Error(D(200));return Ao(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Io(t))throw Error(D(40));return t._reactRootContainer?(An(function(){Ao(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};rt.unstable_batchedUpdates=Su;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Io(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Ao(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xg)}catch(t){console.error(t)}}xg(),xf.exports=rt;var Un=xf.exports,bg,yd=Un;bg=yd.createRoot,yd.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const wd="popstate";function Yy(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return _l("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ao(s)}return e0(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xy(){return Math.random().toString(36).substr(2,8)}function xd(t,e){return{usr:t.state,key:t.key,idx:e}}function _l(t,e,n,r){return n===void 0&&(n=null),Ps({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pr(e):e,{state:n,key:e&&e.key||r||Xy()})}function ao(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e0(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ps({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=nn.Pop;let _=d(),m=_==null?null:_-u;u=_,l&&l({action:a,location:b.location,delta:m})}function p(_,m){a=nn.Push;let g=_l(b.location,_,m);u=d()+1;let w=xd(g,u),x=b.createHref(g);try{o.pushState(w,"",x)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(x)}i&&l&&l({action:a,location:b.location,delta:1})}function y(_,m){a=nn.Replace;let g=_l(b.location,_,m);u=d();let w=xd(g,u),x=b.createHref(g);o.replaceState(w,"",x),i&&l&&l({action:a,location:b.location,delta:0})}function v(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof _=="string"?_:ao(_);return g=g.replace(/ $/,"%20"),Se(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let b={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(wd,f),l=_,()=>{s.removeEventListener(wd,f),l=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let m=v(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:y,go(_){return o.go(_)}};return b}var bd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bd||(bd={}));function t0(t,e,n){return n===void 0&&(n="/"),n0(t,e,n,!1)}function n0(t,e,n,r){let s=typeof e=="string"?Pr(e):e,i=Tu(s.pathname||"/",n);if(i==null)return null;let o=_g(t);r0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=p0(i);a=h0(o[l],u,r)}return a}function _g(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=hn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_g(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:c0(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Sg(i.path))s(i,o,l)}),e}function Sg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Sg(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d0(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const s0=/^:[\w-]+$/,i0=3,o0=2,a0=1,l0=10,u0=-2,Ld=t=>t==="*";function c0(t,e){let n=t.split("/"),r=n.length;return n.some(Ld)&&(r+=u0),e&&(r+=o0),n.filter(s=>!Ld(s)).reduce((s,i)=>s+(s0.test(i)?i0:i===""?a0:l0),r)}function d0(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function h0(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=_d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=_d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hn([i,f.pathname]),pathnameBase:y0(hn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=hn([i,f.pathnameBase]))}return o}function _d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f0(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let b=a[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[f];return y&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function f0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function p0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g0(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pr(t):t;return{pathname:n?n.startsWith("/")?n:m0(n,e):e,search:w0(r),hash:x0(s)}}function m0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ba(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(t,e){let n=v0(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Pr(t):(s=Ps({},t),Se(!s.pathname||!s.pathname.includes("?"),ba("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),ba("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),ba("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=g0(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const hn=t=>t.join("/").replace(/\/\/+/g,"/"),y0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cg=["post","put","patch","delete"];new Set(Cg);const L0=["get",...Cg];new Set(L0);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}const Nu=c.createContext(null),_0=c.createContext(null),zn=c.createContext(null),Do=c.createContext(null),yn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),jg=c.createContext(null);function S0(t,e){let{relative:n}=e===void 0?{}:e;$s()||Se(!1);let{basename:r,navigator:s}=c.useContext(zn),{hash:i,pathname:o,search:a}=Og(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function $s(){return c.useContext(Do)!=null}function Bn(){return $s()||Se(!1),c.useContext(Do).location}function Pg(t){c.useContext(zn).static||c.useLayoutEffect(t)}function Us(){let{isDataRoute:t}=c.useContext(yn);return t?D0():k0()}function k0(){$s()||Se(!1);let t=c.useContext(Nu),{basename:e,future:n,navigator:r}=c.useContext(zn),{matches:s}=c.useContext(yn),{pathname:i}=Bn(),o=JSON.stringify(kg(s,n.v7_relativeSplatPath)),a=c.useRef(!1);return Pg(()=>{a.current=!0}),c.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Eg(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hn([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function $o(){let{matches:t}=c.useContext(yn),e=t[t.length-1];return e?e.params:{}}function Og(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=c.useContext(zn),{matches:s}=c.useContext(yn),{pathname:i}=Bn(),o=JSON.stringify(kg(s,r.v7_relativeSplatPath));return c.useMemo(()=>Eg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E0(t,e){return C0(t,e)}function C0(t,e,n,r){$s()||Se(!1);let{navigator:s}=c.useContext(zn),{matches:i}=c.useContext(yn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Bn(),d;if(e){var f;let _=typeof e=="string"?Pr(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Se(!1),d=_}else d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=t0(t,{pathname:y}),b=T0(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:hn([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:hn([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&b?c.createElement(Do.Provider,{value:{location:Os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},b):b}function j0(){let t=A0(),e=b0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},e),n?c.createElement("pre",{style:s},n):null,null)}const P0=c.createElement(j0,null);class O0 extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?c.createElement(yn.Provider,{value:this.props.routeContext},c.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M0(t){let{routeContext:e,match:n,children:r}=t,s=c.useContext(Nu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(yn.Provider,{value:e},r)}function T0(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Se(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:y}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let y,v=!1,b=null,_=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||P0,l&&(u<0&&p===0?(v=!0,_=null):u===p&&(v=!0,_=f.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,p+1)),g=()=>{let w;return y?w=b:v?w=_:f.route.Component?w=c.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,c.createElement(M0,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?c.createElement(O0,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Mg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mg||{}),lo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lo||{});function N0(t){let e=c.useContext(Nu);return e||Se(!1),e}function R0(t){let e=c.useContext(_0);return e||Se(!1),e}function I0(t){let e=c.useContext(yn);return e||Se(!1),e}function Tg(t){let e=I0(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function A0(){var t;let e=c.useContext(jg),n=R0(lo.UseRouteError),r=Tg(lo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D0(){let{router:t}=N0(Mg.UseNavigateStable),e=Tg(lo.UseNavigateStable),n=c.useRef(!1);return Pg(()=>{n.current=!0}),c.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Os({fromRouteId:e},i)))},[t,e])}const Sd={};function $0(t,e){Sd[e]||(Sd[e]=!0,console.warn(e))}const kd=(t,e,n)=>$0(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function U0(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&kd("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&kd("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function pt(t){Se(!1)}function z0(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=t;$s()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:l,navigator:i,static:o,future:Os({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Pr(r));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:v="default"}=r,b=c.useMemo(()=>{let _=Tu(d,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:y,key:v},navigationType:s}},[l,d,f,p,y,v,s]);return b==null?null:c.createElement(zn.Provider,{value:u},c.createElement(Do.Provider,{children:n,value:b}))}function B0(t){let{children:e,location:n}=t;return E0(Sl(e),n)}new Promise(()=>{});function Sl(t,e){e===void 0&&(e=[]);let n=[];return c.Children.forEach(t,(r,s)=>{if(!c.isValidElement(r))return;let i=[...e,s];if(r.type===c.Fragment){n.push.apply(n,Sl(r.props.children,i));return}r.type!==pt&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}function F0(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function W0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V0(t,e){return t.button===0&&(!e||e==="_self")&&!W0(t)}const H0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G0="6";try{window.__reactRouterVersion=G0}catch{}const q0="startTransition",Ed=Bm[q0];function K0(t){let{basename:e,children:n,future:r,window:s}=t,i=c.useRef();i.current==null&&(i.current=Yy({window:s,v5Compat:!0}));let o=i.current,[a,l]=c.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=c.useCallback(f=>{u&&Ed?Ed(()=>l(f)):l(f)},[l,u]);return c.useLayoutEffect(()=>o.listen(d),[o,d]),c.useEffect(()=>U0(r),[r]),c.createElement(z0,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ai=c.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,p=F0(e,H0),{basename:y}=c.useContext(zn),v,b=!1;if(typeof u=="string"&&J0.test(u)&&(v=u,Z0))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),L=Tu(x.pathname,y);x.origin===w.origin&&L!=null?u=L+x.search+x.hash:b=!0}catch{}let _=S0(u,{relative:s}),m=Q0(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(w){r&&r(w),w.defaultPrevented||m(w)}return c.createElement("a",kl({},p,{href:v||_,onClick:b||i?r:g,ref:n,target:l}))});var Cd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cd||(Cd={}));var jd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jd||(jd={}));function Q0(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Us(),u=Bn(),d=Og(t,{relative:o});return c.useCallback(f=>{if(V0(f,n)){f.preventDefault();let p=r!==void 0?r:ao(u)===ao(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function Y0({title:t,titleId:e,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?c.createElement("title",{id:e},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const X0=c.forwardRef(Y0),ew="/assets/STreet%20ART%20TOuRS-DFruAFGc.png";function tw(){return h.jsx("nav",{className:"bg-white shadow-md",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsx(Ai,{to:"/",className:"flex-shrink-0",children:h.jsx("img",{src:ew,alt:"Street Tours Logo",className:"h-8 w-auto"})}),h.jsx("div",{className:"flex-grow flex justify-center",children:h.jsxs(Ai,{to:"/tour-create",className:`transform transition-all duration-200 hover:scale-105 active:scale-95
                bg-gradient-to-r from-blue-500 to-blue-600
                text-white font-semibold px-6 py-2.5 rounded-full
                shadow-lg hover:shadow-xl
                flex items-center space-x-2
                text-sm sm:text-base
                mx-2 sm:mx-0`,children:[h.jsx("span",{className:"hidden sm:inline",children:"New"}),h.jsx("span",{children:"Tour"})]})}),h.jsx(Ai,{to:"/admin",className:"flex-shrink-0 p-2 rounded-full hover:bg-gray-100 transition-colors",children:h.jsx(X0,{className:"h-6 w-6 text-gray-600"})})]})})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fn=(t,e)=>{const n=c.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>c.createElement("svg",{ref:d,...nw,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${rw(t)}`,a].join(" "),...u},[...e.map(([f,p])=>c.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Fn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Fn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Fn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Fn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Fn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Fn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Fn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function dw(){return h.jsxs("div",{className:"relative max-w-2xl w-full",children:[h.jsx("input",{type:"text",placeholder:"Search neighborhoods, artists, or street art...",className:"w-full px-4 py-3 pl-12 text-lg rounded-full border border-gray-300 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),h.jsx(aw,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})}function Uo({image:t,title:e,subtitle:n,showSearch:r=!1}){return h.jsxs("div",{className:"relative h-[60vh] min-h-[400px] w-full",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${t})`},children:h.jsx("div",{className:"absolute inset-0 bg-black/50"})}),h.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center px-4 text-center text-white",children:[h.jsx("h1",{className:"text-5xl font-bold mb-4",children:e}),n&&h.jsx("p",{className:"text-xl mb-8",children:n}),r&&h.jsx(dw,{})]})]})}function Pt({title:t,children:e}){const n=()=>{const s=document.getElementById(`carousel-${t}`);s&&s.scrollBy({left:-300,behavior:"smooth"})},r=()=>{const s=document.getElementById(`carousel-${t}`);s&&s.scrollBy({left:300,behavior:"smooth"})};return h.jsxs("div",{className:"w-full py-8",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4 px-4",children:t}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/80 p-2 rounded-full shadow-lg hover:bg-white",children:h.jsx(sw,{className:"w-6 h-6"})}),h.jsx("div",{id:`carousel-${t}`,className:"flex gap-6 overflow-x-auto scrollbar-hide snap-x snap-mandatory px-4",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:e}),h.jsx("button",{onClick:r,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/80 p-2 rounded-full shadow-lg hover:bg-white",children:h.jsx(iw,{className:"w-6 h-6"})})]})]})}function Ot({title:t,image:e,link:n,subtitle:r}){return h.jsxs(Ai,{to:n,className:"min-w-[280px] max-w-[280px] bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 snap-start",children:[h.jsx("div",{className:"h-48 overflow-hidden",children:h.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-300",onError:s=>{console.error("Image failed to load:",s),s.currentTarget.src="https://via.placeholder.com/150"}})}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t}),r&&h.jsx("p",{className:"mt-2 text-gray-600",children:r})]})]})}const hw="modulepreload",fw=function(t){return"/"+t},Pd={},Sr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=fw(l),l in Pd)return;Pd[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hw,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},pw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>Or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ru extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gw extends Ru{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mw extends Ru{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vw extends Ru{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var El;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(El||(El={}));var yw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ww{constructor(e,{headers:n={},customFetch:r,region:s=El.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=pw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yw(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new gw(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new mw(d);if(!d.ok)throw new vw(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ge={},Iu={},zo={},zs={},Bo={},Fo={},xw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kr=xw();const bw=kr.fetch,Ng=kr.fetch.bind(kr),Rg=kr.Headers,Lw=kr.Request,_w=kr.Response,Or=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rg,Request:Lw,Response:_w,default:Ng,fetch:bw},Symbol.toStringTag,{value:"Module"})),Sw=km(Or);var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});let kw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wo.default=kw;var Ig=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fo,"__esModule",{value:!0});const Ew=Ig(Sw),Cw=Ig(Wo);let jw=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ew.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,p=200,y="OK")}catch{i.status===404&&b===""?(p=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new Cw.default(u)}return{error:u,data:d,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Fo.default=jw;var Pw=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bo,"__esModule",{value:!0});const Ow=Pw(Fo);let Mw=class extends Ow.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bo.default=Mw;var Tw=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});const Nw=Tw(Bo);let Rw=class extends Nw.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};zs.default=Rw;var Iw=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zo,"__esModule",{value:!0});const Wr=Iw(zs);let Aw=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Wr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zo.default=Aw;var Vo={},Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.version=void 0;Ho.version="0.0.0-automated";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DEFAULT_HEADERS=void 0;const Dw=Ho;Vo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Dw.version}`};var Ag=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iu,"__esModule",{value:!0});const $w=Ag(zo),Uw=Ag(zs),zw=Vo;let Bw=class Dg{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},zw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new $w.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Uw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Iu.default=Bw;var Mr=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const $g=Mr(Iu);Ge.PostgrestClient=$g.default;const Ug=Mr(zo);Ge.PostgrestQueryBuilder=Ug.default;const zg=Mr(zs);Ge.PostgrestFilterBuilder=zg.default;const Bg=Mr(Bo);Ge.PostgrestTransformBuilder=Bg.default;const Fg=Mr(Fo);Ge.PostgrestBuilder=Fg.default;const Wg=Mr(Wo);Ge.PostgrestError=Wg.default;var Fw=Ge.default={PostgrestClient:$g.default,PostgrestQueryBuilder:Ug.default,PostgrestFilterBuilder:zg.default,PostgrestTransformBuilder:Bg.default,PostgrestBuilder:Fg.default,PostgrestError:Wg.default};const{PostgrestClient:Ww,PostgrestQueryBuilder:YL,PostgrestFilterBuilder:XL,PostgrestTransformBuilder:e_,PostgrestBuilder:t_,PostgrestError:n_}=Fw,Vw="2.11.2",Hw={"X-Client-Info":`realtime-js/${Vw}`},Gw="1.0.0",Vg=1e4,qw=1e3;var gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gr||(gr={}));var Qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qe||(Qe={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var Cl;(function(t){t.websocket="websocket"})(Cl||(Cl={}));var kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kn||(kn={}));class Kw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Hg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const Od=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Zw(o,t,e,s),i),{})},Zw=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Gg(i,o):jl(o)},Gg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Xw(e,n)}switch(t){case ce.bool:return Jw(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return Qw(e);case ce.json:case ce.jsonb:return Yw(e);case ce.timestamp:return ex(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return jl(e);default:return jl(e)}},jl=t=>t,Jw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Gg(e,a))}return t},ex=t=>typeof t=="string"?t.replace(" ","T"):t,qg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class La{constructor(e,n,r={},s=Vg){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Md;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Md||(Md={}));class us{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=us.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=us.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const p=d.map(_=>_.presence_ref),y=f.map(_=>_.presence_ref),v=d.filter(_=>y.indexOf(_.presence_ref)<0),b=f.filter(_=>p.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),b.length>0&&(l[u]=b)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(y=>y.presence_ref),p=d.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Td;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Td||(Td={}));var Nd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nd||(Nd={}));var Tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class Au{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new La(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Hg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new us(this),this.broadcastEndpointURL=qg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Tt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Tt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Tt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,v=[];for(let b=0;b<y;b++){const _=p[b],{filter:{event:m,schema:g,table:w,filter:x}}=_,L=d&&d[b];if(L&&L.event===m&&L.schema===g&&L.table===w&&L.filter===x)v.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),e==null||e(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Tt.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new La(this,vt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new La(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=vt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,b,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(b=y.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,b,_,m,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,L=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((b=n.ids)===null||b===void 0?void 0:b.includes(x))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(g=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:b,table:_,commit_timestamp:m,type:g,errors:w}=v;p=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:m,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}y.callback(p,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Au.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Od(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Od(e.columns,e.old_record)),n}}const tx=()=>{},nx=typeof WebSocket<"u",rx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sx{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hw,this.params={},this.timeout=Vg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tx,this.conn=null,this.sendBuffer=[],this.serializer=new Kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Sr(async()=>{const{default:l}=await Promise.resolve().then(()=>Or);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Cl.websocket}`,this.httpEndpoint=qg(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ix(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Sr(async()=>{const{default:e}=await import("./browser-Jn8ucWwY.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gw}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return kn.Connecting;case gr.open:return kn.Open;case gr.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}channel(e,n={config:{}}){const r=new Au(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(qw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ix{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Du extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ox extends Du{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pl extends Du{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ax=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Kg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>Or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},lx=()=>ax(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>Or),void 0)).Response:Response}),Ol=t=>{if(Array.isArray(t))return t.map(n=>Ol(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ol(r)}),e};var Wn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const _a=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ux=(t,e,n)=>Wn(void 0,void 0,void 0,function*(){const r=yield lx();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new ox(_a(s),t.status||500))}).catch(s=>{e(new Pl(_a(s),s))}):e(new Pl(_a(t),t))}),cx=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Bs(t,e,n,r,s,i){return Wn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,cx(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ux(l,a,r))})})}function uo(t,e,n,r){return Wn(this,void 0,void 0,function*(){return Bs(t,"GET",e,n,r)})}function Zt(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Bs(t,"POST",e,r,s,n)})}function dx(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Bs(t,"PUT",e,r,s,n)})}function hx(t,e,n,r){return Wn(this,void 0,void 0,function*(){return Bs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zg(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Bs(t,"DELETE",e,r,s,n)})}var Ve=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class px{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Kg(s)}uploadOrUpdate(e,n,r,s){return Ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Rd),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Rd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Zt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Du("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Zt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ve(this,void 0,void 0,function*(){try{const s=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}download(e,n){return Ve(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield uo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}info(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ol(r),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}exists(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield hx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(je(r)&&r instanceof Pl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fx),n),{prefix:e||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gx="2.7.1",mx={"X-Client-Info":`storage-js/${gx}`};var Kn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class vx{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},mx),n),this.fetch=Kg(r)}listBuckets(){return Kn(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Kn(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Kn(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}}class yx extends vx{constructor(e,n={},r){super(e,n,r)}from(e){return new px(this.url,this.headers,e,this.fetch)}}const wx="2.47.10";let Xr="";typeof Deno<"u"?Xr="deno":typeof document<"u"?Xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xr="react-native":Xr="node";const xx={"X-Client-Info":`supabase-js-${Xr}/${wx}`},bx={headers:xx},Lx={schema:"public"},_x={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sx={};var kx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ex=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ng:e=fetch,(...n)=>e(...n)},Cx=()=>typeof Headers>"u"?Rg:Headers,jx=(t,e,n)=>{const r=Ex(n),s=Cx();return(i,o)=>kx(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Px=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Ox(t){return t.replace(/\/$/,"")}function Mx(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Px(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Jg="2.67.3",Tx="http://localhost:9999",Nx="supabase.auth.token",Rx={"X-Client-Info":`gotrue-js/${Jg}`},Id=10,Ml="X-Supabase-Api-Version",Qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ix(t){return Math.round(Date.now()/1e3)+t}function Ax(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",xn={tested:!1,writable:!1},cs=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function Dx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Yg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>Or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$x=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},yi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wi=async(t,e)=>{await t.removeItem(e)};function Ux(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Go{constructor(){this.promise=new Go.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Go.promiseConstructor=Promise;function Ad(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Ux(r))}async function zx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bx(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Fx(t){return("0"+t.toString(16)).substr(-2)}function Wx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Fx).join("")}async function Vx(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Hx(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Vx(t);return Hx(n)}async function Zn(t,e,n=!1){const r=Wx();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xg(t,`${e}-code-verifier`,s);const i=await Gx(r);return[i,r===i?"plain":"s256"]}const qx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kx(t){const e=t.headers.get(Ml);if(!e||!e.match(qx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class $u extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zx extends $u{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jx(t){return X(t)&&t.name==="AuthApiError"}class em extends $u{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vn extends $u{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Vt extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qx(t){return X(t)&&t.name==="AuthSessionMissingError"}class Sa extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xi extends Vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bi extends Vn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yx(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class Dd extends Vn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tl extends Vn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ka(t){return X(t)&&t.name==="AuthRetryableFetchError"}class $d extends Vn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Xx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Sn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e1=[502,503,504];async function Ud(t){var e;if(!$x(t))throw new Tl(Sn(t),0);if(e1.includes(t.status))throw new Tl(Sn(t),t.status);let n;try{n=await t.json()}catch(i){throw new em(Sn(i),i)}let r;const s=Kx(t);if(s&&s.getTime()>=Qg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $d(Sn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new $d(Sn(n),t.status,n.weak_password.reasons);throw new Zx(Sn(n),t.status||500,r)}const t1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ie(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ml]||(i[Ml]=Qg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await n1(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function n1(t,e,n,r,s,i){const o=t1(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Tl(Sn(l),0)}if(a.ok||await Ud(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ud(l)}}function Ht(t){var e;let n=null;o1(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ix(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function zd(t){const e=Ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function r1(t){return{data:t,error:null}}function s1(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Xx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function i1(t){return t}function o1(t){return t.access_token&&t.refresh_token&&t.expires_in}var a1=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class l1{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xt})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=a1(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(X(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xt})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:i1});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xt})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xt})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xt})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}const u1={getItem:t=>cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{cs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{cs()&&globalThis.localStorage.removeItem(t)}};function Bd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function c1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jn={debug:!!(globalThis&&cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d1 extends tm{}async function h1(t,e,n){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}c1();const f1={url:Tx,storageKey:Nx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Vr=30*1e3,Fd=3;async function Wd(t,e,n){return await n()}class Ms{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ms.nextInstanceID,Ms.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},f1),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new l1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yg(s.fetch),this.lock=s.lock||Wd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h1:this.lock=Wd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:cs()?this.storage=u1:(this.memoryStorage={},this.storage=Bd(this.memoryStorage)):(this.memoryStorage={},this.storage=Bd(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Dx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Yx(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return X(n)?{error:n}:{error:new em("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ht}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Zn(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:v},xform:Ht})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ht})}else throw new xi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zd})}else throw new xi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Sa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await yi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ht});if(await wi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Sa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ht}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Sa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zn(this.storage,this.storageKey));const{error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xi("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ht});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zn(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:r1})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Vt;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(X(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xi("You must provide either an email or phone number and a type")}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(n){if(X(n))return Qx(n)&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Vt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zn(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ad(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Ad(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(X(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!_t())throw new bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Dd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dd("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new bi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const y=p-d;y*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=p-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:b,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(X(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jx(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ax(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Zn(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(X(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Bx(async s=>(s>0&&await zx(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ka(i)&&Date.now()+o-r<Vr})}catch(r){if(this._debug(n,"error",r),X(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await yi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Id;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Id}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ka(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Go;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),X(i)){const o={session:null,error:i};return ka(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await wi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vr}ms, refresh threshold is ${Fd} ticks`),s<=Fd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(X(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(X(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Ms.nextInstanceID=0;const p1=Ms;class g1 extends p1{constructor(e){super(e)}}var m1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class v1{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ox(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Lx,realtime:Sx,auth:Object.assign(Object.assign({},_x),{storageKey:l}),global:bx},d=Mx(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=jx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ww(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ww(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yx(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return m1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){var f;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g1({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new sx(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y1=(t,e,n)=>new v1(t,e,n),w1="https://impgpcljswbjfzdpinjq.supabase.co",x1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltcGdwY2xqc3diamZ6ZHBpbmpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzMzkwODksImV4cCI6MjA1MDkxNTA4OX0.YHhQbL5TVT559HoTkcJ5b3MzUpurh9I34nHkhoNF2Ic",Le=y1(w1,x1);function Uu(t){const[e,n]=c.useState([]),[r,s]=c.useState(!0),[i,o]=c.useState(null);return c.useEffect(()=>{async function a(){try{let l=Le.from("neighborhoods").select(`
            id,
            name,
            city_id,
            hero_image,
            created_at
          `).order("name");const{data:u,error:d}=await l;if(d)throw d;if(!u)throw new Error("No data returned");console.log("Fetched neighborhoods:",u),n(u)}catch(l){console.error("Error fetching neighborhoods:",l),o(l instanceof Error?l.message:"An error occurred")}finally{s(!1)}}a()},[t]),{neighborhoods:e,loading:r,error:i}}function zu(){const[t,e]=c.useState([]),[n,r]=c.useState(!0),[s,i]=c.useState(null);return c.useEffect(()=>{async function o(){try{const{data:a,error:l}=await Le.from("artists").select("*").order("name");if(l)throw l;e(a)}catch(a){i(a instanceof Error?a.message:"An error occurred")}finally{r(!1)}}o()},[]),{artists:t,loading:n,error:s}}function nm(t={}){const[e,n]=c.useState([]),[r,s]=c.useState(!0),[i,o]=c.useState(null);return c.useEffect(()=>{async function a(){try{let l=Le.from("street_art").select(`
            *,
            neighborhoods!inner(
              id,
              city_id
            )
          `).order("created_at",{ascending:!1});t.artistId&&(l=l.eq("artist_id",t.artistId)),t.neighborhoodId&&(l=l.eq("neighborhood_id",t.neighborhoodId)),t.cityId&&(l=l.eq("neighborhoods.city_id",t.cityId));const{data:u,error:d}=await l;if(d)throw d;n(u)}catch(l){o(l instanceof Error?l.message:"An error occurred")}finally{s(!1)}}a()},[t.artistId,t.neighborhoodId,t.cityId]),{streetArt:e,loading:r,error:i}}function b1(){const{neighborhoods:t,loading:e}=Uu(),{artists:n,loading:r}=zu(),{streetArt:s,loading:i}=nm(),o=()=>h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx("p",{className:"text-gray-500",children:"Loading..."})});return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Uo,{image:"https://impgpcljswbjfzdpinjq.supabase.co/storage/v1/object/public/street_art_images/0.22770001286388153.png",title:"Discover Street Art",subtitle:"Explore the vibrant street art scene in your city",showSearch:!0}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx(Pt,{title:"Neighborhoods",children:e?o():t.map(a=>(console.log("Neighborhood Hero Image URL:",a.hero_image),h.jsx(Ot,{title:a.name,image:a.hero_image,link:`/neighborhoods/${a.id}`},a.id)))}),h.jsx(Pt,{title:"Artists",children:r?o():n.map(a=>h.jsx(Ot,{title:a.name,image:a.hero_image,link:`/artists/${a.id}`,subtitle:a.bio.substring(0,100)+"..."},a.id))}),h.jsx(Pt,{title:"Street Art",children:i?o():s.map(a=>h.jsx(Ot,{title:a.title,image:a.image,link:`/street-art/${a.id}`,subtitle:a.description.substring(0,100)+"..."},a.id))})]})]})}function L1(){return $o(),h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Uo,{image:"https://images.unsplash.com/photo-1514924013411-cbf25faa35bb",title:"City Name",subtitle:"Explore the vibrant street art scene"}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx(Pt,{title:"Neighborhoods",children:h.jsx(Ot,{title:"Downtown",image:"https://images.unsplash.com/photo-1517713982677-4b66332f98de",link:"/neighborhoods/1"})}),h.jsx(Pt,{title:"Featured Artists",children:h.jsx(Ot,{title:"Local Artist",image:"https://images.unsplash.com/photo-1571115764595-644a1f56a55c",link:"/artists/1"})}),h.jsx(Pt,{title:"Street Art",children:h.jsx(Ot,{title:"Urban Art",image:"https://images.unsplash.com/photo-1499781350541-7783f6c6a0c8",link:"/street-art/1"})})]})]})}function _1(){const{id:t}=$o(),[e,n]=c.useState([]),[r,s]=c.useState([]),[i,o]=c.useState(null);return c.useEffect(()=>{(async()=>{const{data:l,error:u}=await Le.from("neighborhoods").select("*").eq("id",t).single();u?console.error(u):o(l);const{data:d,error:f}=await Le.from("street_art").select("*").eq("neighborhood_id",t);if(f){console.error(f);return}const p=d.map(b=>b.artist_id),{data:y,error:v}=await Le.from("artists").select("*").in("id",p);v?console.error(v):n(y),s(d)})()},[t]),i?h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Uo,{image:i.hero_image,title:i.name,subtitle:"Explore the neighborhood"}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx(Pt,{title:"Artists",children:e.map(a=>h.jsx(Ot,{title:a.name,image:a.hero_image,link:`/artists/${a.id}`},a.id))}),h.jsx(Pt,{title:"Street Art",children:r.map(a=>h.jsx(Ot,{title:a.title,image:a.image,link:`/street-art/${a.id}`},a.id))})]})]}):h.jsx("div",{children:"Loading..."})}function S1(){const{id:t}=$o(),[e,n]=c.useState(null),[r,s]=c.useState([]);return c.useEffect(()=>{const i=async()=>{const{data:a,error:l}=await Le.from("artists").select("*").eq("id",t).single();l?console.error(l):(n(a),o(a.id))},o=async a=>{const{data:l,error:u}=await Le.from("street_art").select("*").eq("artist_id",a);u?console.error(u):s(l)};i()},[t]),e?h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Uo,{image:e.hero_image,title:e.name,subtitle:"Explore the artist's work"}),h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx(Pt,{title:"Street Art",children:r.map(i=>h.jsx(Ot,{title:i.title,image:i.image,link:`/street-art/${i.id}`},i.id))}),h.jsx(Pt,{title:"Featured Tours",children:h.jsx(Ot,{title:"Downtown Art Walk",image:"https://images.unsplash.com/photo-1517713982677-4b66332f98de",link:"/tours/1",subtitle:"2 hour walking tour"})})]})]}):h.jsx("div",{children:"Loading..."})}function k1(){const{id:t}=$o(),[e,n]=c.useState(null),[r,s]=c.useState(null),[i,o]=c.useState(null);return c.useEffect(()=>{(async()=>{const{data:l,error:u}=await Le.from("street_art").select("*").eq("id",t).single();if(u)console.error(u);else{n(l);const d=await Le.from("artists").select("*").eq("id",l.artist_id).single();s(d.data);const f=await Le.from("neighborhoods").select("*").eq("id",l.neighborhood_id).single();o(f.data)}})()},[t]),!e||!r||!i?h.jsx("div",{children:"Loading..."}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"h-[70vh] relative",children:h.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 -mt-20 relative z-10 max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title})," ",h.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cw,{className:"w-5 h-5"}),h.jsx("span",{children:r.name})," "]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ow,{className:"w-5 h-5"}),h.jsx("span",{children:i.name})," "]})]}),h.jsxs("p",{className:"text-gray-600",children:[e.description," "]}),h.jsx("div",{className:"flex items-center justify-between mt-4",children:h.jsxs("a",{href:e.shop_page,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition",children:[h.jsx(lw,{className:"w-5 h-5"}),h.jsx("span",{children:"Shop"})]})})]})})]})}function E1(){const[t,e]=c.useState(null),[n,r]=c.useState(!0);return c.useEffect(()=>{Le.auth.getSession().then(({data:{session:i}})=>{e((i==null?void 0:i.user)??null),r(!1)});const{data:{subscription:s}}=Le.auth.onAuthStateChange((i,o)=>{e((o==null?void 0:o.user)??null)});return()=>s.unsubscribe()},[]),{user:t,loading:n}}function C1(){const[t,e]=c.useState(!1),[n,r]=c.useState(null),[s,i]=c.useState(""),[o,a]=c.useState(""),l=async u=>{u.preventDefault(),e(!0),r(null);try{const{error:d}=await Le.auth.signInWithPassword({email:s,password:o});if(d)throw d}catch(d){r(d instanceof Error?d.message:"An error occurred")}finally{e(!1)}};return h.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:n}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),h.jsx("input",{type:"email",value:s,onChange:u=>i(u.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsx("input",{type:"password",value:o,onChange:u=>a(u.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:t?"Signing in...":"Sign In"})]})}function j1(){const[t,e]=c.useState({name:"",bio:"",hero_image:""}),[n,r]=c.useState(!1),[s,i]=c.useState(null),[o,a]=c.useState(!1),l=async d=>{d.preventDefault(),r(!0),i(null),a(!1);try{const{error:f}=await Le.from("artists").insert([t]);if(f)throw f;a(!0),e({name:"",bio:"",hero_image:""})}catch(f){i(f instanceof Error?f.message:"An error occurred")}finally{r(!1)}},u=d=>{e(f=>({...f,[d.target.name]:d.target.value}))};return h.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:s}),o&&h.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-md",children:"Artist added successfully!"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),h.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),h.jsx("textarea",{name:"bio",value:t.bio,onChange:u,required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hero Image URL"}),h.jsx("input",{type:"url",name:"hero_image",value:t.hero_image,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:n?"Adding Artist...":"Add Artist"})]})}function Bu({table:t,initialData:e}){const[n,r]=c.useState(e),[s,i]=c.useState(!1),[o,a]=c.useState(null),[l,u]=c.useState(!1);return{formData:n,loading:s,error:o,success:l,handleSubmit:async(p,y)=>{p.preventDefault(),i(!0),a(null),u(!1);try{const{error:v}=await Le.from(t).insert([y||n]);if(v)throw v;u(!0),r(e)}catch(v){a(v instanceof Error?v.message:"An error occurred")}finally{i(!1)}},handleChange:p=>{const y=p.target.type==="number"?parseFloat(p.target.value):p.target.value;r(v=>({...v,[p.target.name]:y}))}}}function P1(){const{formData:t,loading:e,error:n,success:r,handleSubmit:s,handleChange:i}=Bu({table:"cities",initialData:{name:"",hero_image:""}});return h.jsxs("form",{onSubmit:s,className:"space-y-6",children:[n&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:n}),r&&h.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-md",children:"City added successfully!"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City Name"}),h.jsx("input",{type:"text",name:"name",value:t.name,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hero Image URL"}),h.jsx("input",{type:"url",name:"hero_image",value:t.hero_image,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:e?"Adding City...":"Add City"})]})}function O1(){const[t,e]=c.useState([]),[n,r]=c.useState(!0),[s,i]=c.useState(null);return c.useEffect(()=>{async function o(){try{const{data:a,error:l}=await Le.from("cities").select("*").order("name");if(l)throw l;e(a)}catch(a){i(a instanceof Error?a.message:"An error occurred")}finally{r(!1)}}o()},[]),{cities:t,loading:n,error:s}}function M1(){const{cities:t,loading:e}=O1(),{formData:n,loading:r,error:s,success:i,handleSubmit:o,handleChange:a}=Bu({table:"neighborhoods",initialData:{name:"",city_id:"",hero_image:""}});return e?h.jsx("div",{children:"Loading cities..."}):h.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:s}),i&&h.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-md",children:"Neighborhood added successfully!"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Neighborhood Name"}),h.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),h.jsxs("select",{name:"city_id",value:n.city_id,onChange:a,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select a city..."}),t.map(l=>h.jsx("option",{value:l.id,children:l.name},l.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hero Image URL"}),h.jsx("input",{type:"url",name:"hero_image",value:n.hero_image,onChange:a,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:r?"Adding Neighborhood...":"Add Neighborhood"})]})}function T1(){const[t,e]=c.useState(!1),[n,r]=c.useState(null);return{uploadImage:async(i,o)=>{try{e(!0),r(null);const a=i.name.split(".").pop(),u=`${`${Math.random()}.${a}`}`,{error:d,data:f}=await Le.storage.from(o).upload(u,i);if(d)throw d;const{data:{publicUrl:p}}=Le.storage.from(o).getPublicUrl(u);return p}catch(a){return r(a instanceof Error?a.message:"Error uploading image"),null}finally{e(!1)}},uploading:t,uploadError:n}}const Vd=50*1024*1024,N1=["model/gltf-binary","model/gltf+json","model/vnd.usdz+zip"],R1=["image/jpeg","image/png","image/webp"];function I1(){const[t,e]=c.useState(!1),[n,r]=c.useState(null),s=(o,a)=>{if(o.size>Vd)return r({field:a==="preview"?"preview":"model",message:`File size must be less than ${Vd/1024/1024}MB`}),!1;const l=a==="preview"?R1:N1;return l.includes(o.type)?!0:(r({field:a==="preview"?"preview":"model",message:`Invalid file type. Allowed types: ${l.join(", ")}`}),!1)};return{uploadARFile:async(o,a,l)=>{try{if(r(null),e(!0),!s(o,l))return null;const u=o.name.split(".").pop(),f=`${`${Math.random().toString(36).substring(2)}.${u}`}`,{data:p,error:y}=await Le.storage.from(a).upload(f,o);if(y)throw y;const{data:{publicUrl:v}}=Le.storage.from(a).getPublicUrl(f);return v}catch(u){return r({field:l==="preview"?"preview":"model",message:"Error uploading file: "+u.message}),null}finally{e(!1)}},uploading:t,error:n,setError:r}}function A1({modelUrl:t,iosUrl:e,previewImage:n,className:r="",alt:s="A 3D model",poster:i}){const o=useRef(null);return h.jsx("model-viewer",{ref:o,src:t,"ios-src":e,poster:n||i,alt:s,loading:"lazy","camera-controls":!0,"auto-rotate":!0,ar:!0,"ar-modes":"webxr scene-viewer quick-look","environment-image":"neutral","shadow-intensity":"1",exposure:"1",style:{width:"100%",height:"300px",backgroundColor:"#f5f5f5",borderRadius:"8px",overflow:"hidden"},className:`w-full h-64 bg-gray-100 rounded-lg ${r}`,children:h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-black bg-opacity-50 text-white text-center text-sm",children:"Use AR button to view in your space"})})}function D1(){var T;const t=c.useRef(null),e=c.useRef(null),n=c.useRef(null),r=c.useRef(null),[s,i]=c.useState(null),[o,a]=c.useState(null),{artists:l,loading:u}=zu(),{neighborhoods:d,loading:f}=Uu(),{uploadImage:p,uploading:y,uploadError:v}=T1(),{uploadARFile:b,uploading:_,error:m}=I1(),{formData:g,loading:w,error:x,success:L,handleSubmit:k,handleChange:S}=Bu({table:"street_art",initialData:{title:"",description:"",image:"",artist_id:"",neighborhood_id:"",latitude:0,longitude:0,ar_enabled:!1,ar_content:null}}),N=M=>{var A;const F=(A=M.target.files)==null?void 0:A[0];if(F){const U=new FileReader;U.onloadend=()=>{i(U.result)},U.readAsDataURL(F)}},C=async M=>{var F,A;if(M.preventDefault(),(A=(F=t.current)==null?void 0:F.files)!=null&&A[0]){const U=await p(t.current.files[0],"street_art_images");if(U){const H={...g,image:U};k(M,H)}}else k(M)};return u||f?h.jsx("div",{children:"Loading..."}):h.jsxs("form",{onSubmit:C,className:"space-y-6",children:[(x||v)&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:x||v}),L&&h.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-md",children:"Street art added successfully!"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),h.jsx("input",{type:"text",name:"title",value:g.title,onChange:S,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{name:"description",value:g.description,onChange:S,required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Artist"}),h.jsxs("select",{name:"artist_id",value:g.artist_id,onChange:S,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select an artist..."}),l.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Neighborhood"}),h.jsxs("select",{name:"neighborhood_id",value:g.neighborhood_id,onChange:S,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select a neighborhood..."}),d.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),h.jsx("input",{type:"number",name:"latitude",value:g.latitude,onChange:S,required:!0,step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),h.jsx("input",{type:"number",name:"longitude",value:g.longitude,onChange:S,required:!0,step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),h.jsx("div",{className:"flex items-center justify-center w-full",children:h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[h.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:s?h.jsx("img",{src:s,alt:"Preview",className:"max-h-52 object-contain mb-4"}):h.jsxs(h.Fragment,{children:[h.jsx(uw,{className:"w-8 h-8 mb-4 text-gray-500"}),h.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[h.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}),h.jsx("input",{ref:t,type:"file",className:"hidden",accept:"image/*",onChange:N,required:!0})]})})]}),h.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"ar_enabled",name:"ar_enabled",checked:g.ar_enabled,onChange:S,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"ar_enabled",className:"ml-2 block text-sm text-gray-900",children:"Enable AR Experience"})]}),g.ar_enabled&&h.jsxs("div",{className:"space-y-4 mt-4",children:[m&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:m.message}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"3D Model (GLB/GLTF)"}),h.jsx("input",{ref:e,type:"file",accept:".glb,.gltf",onChange:async M=>{var A;const F=(A=M.target.files)==null?void 0:A[0];if(F){const U=await b(F,"street_art_models","model");U&&S({target:{name:"ar_content",value:{...g.ar_content,modelUrl:U}}})}},className:`mt-1 block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-md file:border-0
                  file:text-sm file:font-semibold
                  file:bg-blue-50 file:text-blue-700
                  hover:file:bg-blue-100`}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Supported formats: GLB, GLTF. Max size: 50MB"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"iOS Model (USDZ)"}),h.jsx("input",{ref:n,type:"file",accept:".usdz",onChange:async M=>{var A;const F=(A=M.target.files)==null?void 0:A[0];if(F){const U=await b(F,"street_art_models_ios","model");U&&S({target:{name:"ar_content",value:{...g.ar_content,iosQuickLook:U}}})}},className:`mt-1 block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-md file:border-0
                  file:text-sm file:font-semibold
                  file:bg-blue-50 file:text-blue-700
                  hover:file:bg-blue-100`}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Supported format: USDZ. Max size: 50MB"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"AR Preview Image"}),h.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:async M=>{var A;const F=(A=M.target.files)==null?void 0:A[0];if(F){const U=new FileReader;U.onloadend=()=>{a(U.result)},U.readAsDataURL(F);const H=await b(F,"street_art_ar_previews","preview");H&&S({target:{name:"ar_content",value:{...g.ar_content,imageUrl:H}}})}},className:`mt-1 block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-md file:border-0
                  file:text-sm file:font-semibold
                  file:bg-blue-50 file:text-blue-700
                  hover:file:bg-blue-100`}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Supported formats: JPG, PNG, WebP. Max size: 50MB"}),o&&h.jsx("img",{src:o,alt:"AR Preview",className:"mt-2 max-h-32 object-contain"})]}),((T=g.ar_content)==null?void 0:T.modelUrl)&&h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"3D Model Preview"}),h.jsx(A1,{modelUrl:g.ar_content.modelUrl,iosUrl:g.ar_content.iosQuickLook,previewImage:g.ar_content.imageUrl})]})]})]}),h.jsx("button",{type:"submit",disabled:w||y||_,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:w||y||_?"Adding Street Art...":"Add Street Art"})]})}function $1(){const{user:t,loading:e}=E1(),[n,r]=c.useState("artist"),s={artist:{title:"Add Artist",component:j1},city:{title:"Add City",component:P1},neighborhood:{title:"Add Neighborhood",component:M1},streetArt:{title:"Add Street Art",component:D1}};if(e)return h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsx("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:"Loading..."})})});if(!t)return h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Login"}),h.jsx(C1,{})]})})});const{title:i,component:o}=s[n];return h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),h.jsx("button",{onClick:()=>supabase.auth.signOut(),className:"text-sm text-gray-600 hover:text-gray-900",children:"Sign Out"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Form"}),h.jsxs("select",{value:n,onChange:a=>r(a.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[h.jsx("option",{value:"artist",children:"Add Artist"}),h.jsx("option",{value:"city",children:"Add City"}),h.jsx("option",{value:"neighborhood",children:"Add Neighborhood"}),h.jsx("option",{value:"streetArt",children:"Add Street Art"})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:i}),h.jsx(o,{})]})]})})})}function Hr({id:t,title:e,subtitle:n,imageUrl:r,selected:s,onClick:i,disabled:o=!1}){return h.jsxs("div",{onClick:()=>!o&&i(t),className:`
        relative cursor-pointer transition-all duration-200 
        rounded-lg overflow-hidden shadow-md hover:shadow-lg
        ${s?"ring-2 ring-blue-500 scale-[1.02]":""}
        ${o?"opacity-50 cursor-not-allowed":"hover:scale-[1.02]"}
      `,children:[h.jsxs("div",{className:"aspect-[3/2] relative",children:[r?h.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:h.jsx("span",{className:"text-gray-400",children:"No image"})}),s&&h.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20",children:h.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white p-1 rounded-full",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),h.jsxs("div",{className:"p-3",children:[h.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e}),n&&h.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:n})]})]})}const U1=3,pe="surprise_me";function z1(){const t=Us(),[e,n]=c.useState(""),[r,s]=c.useState(new Set),[i,o]=c.useState(new Set),[a,l]=c.useState(""),[u,d]=c.useState([]),[f,p]=c.useState(null),{neighborhoods:y,loading:v}=Uu(),{artists:b,loading:_}=zu(),{streetArt:m,loading:g}=nm({neighborhoodId:e}),w=c.useMemo(()=>{if(!e)return[];const E=Array.from(new Set(m.map(I=>I.artist_id))).map(I=>b.find(P=>P.id===I)).filter(I=>I!==void 0);return[{id:pe,name:"Surprise Me!",hero_image:"https://impgpcljswbjfzdpinjq.supabase.co/storage/v1/object/public/street_art_images/surprise%20me.jpeg"},...E]},[e,m,b]),x=c.useMemo(()=>{if(!e)return[];const E=r.has(pe)?m:r.size>0?m.filter(I=>r.has(I.artist_id)):[];return[{id:pe,title:"Surprise Me!",artist_id:"",neighborhood_id:"",image:"https://impgpcljswbjfzdpinjq.supabase.co/storage/v1/object/public/street_art_images/surprise%20me.jpeg",latitude:0,longitude:0},...E]},[e,r,m]),L=E=>{s(I=>{const P=new Set(I);if(E===pe){P.clear(),P.add(pe);const $=b.filter(Z=>Z.id!==pe),j=Math.floor(Math.random()*3)+2;M([...$]).slice(0,j).forEach(Z=>{P.add(Z.id)})}else I.has(pe)&&P.clear(),P.has(E)?P.delete(E):P.add(E);return P}),o(new Set),d([])},k=E=>{o(I=>{const P=new Set(I);if(E===pe){P.clear(),P.add(pe);const $=m.filter(Z=>Z.id!==pe),j=Math.floor(Math.random()*4)+3;M([...$]).slice(0,j).forEach(Z=>{P.add(Z.id)})}else I.has(pe)&&P.clear(),P.has(E)?P.delete(E):P.add(E);return P})},S=()=>{if(!a)return;p(null);const E=parseInt(a),I=z(E);let P=[];if(r.has(pe)&&i.has(pe))P=J(I*2);else if(r.has(pe)){const me=Array.from(i).filter(Ue=>Ue!==pe);P=K(me,I*2)}else if(i.has(pe)){const me=Array.from(r).filter(Ue=>Ue!==pe);P=R(me,I*2)}else P=u;console.log("[TourCreate] Generated initial locations:",P);const $=[...P].map(me=>({...me})),j=[...P].map(me=>({...me})),W=[...P].map(me=>({...me})),Z=F($,I),G=A(j,I),se=U(W,I),q=!T(Z,G)&&!T(Z,se)&&!T(G,se);let ee;q?ee=[{name:"Compact Tour",description:"Minimizes walking distance between locations",locations:Z},{name:"Diverse Tour",description:"Features work from different artists",locations:G},{name:"Popular Tour",description:"Based on ratings and popularity",locations:se}]:ee=[{name:"Optimized Tour",description:"The best route based on your selections, balancing distance and variety",locations:N(P,I)}],ee[0].locations.length>0&&t("/tour-options",{state:{tourVariations:ee,duration:E}})},N=(E,I)=>{if(E.length<=I)return E;const P=[],$=[...E],j=C(E);let W=0,Z=1/0;for($.forEach((G,se)=>{const q=H(j,G.coordinates);q<Z&&(Z=q,W=se)}),P.push($[W]),$.splice(W,1);P.length<I&&$.length>0;){let G=0,se=-1/0;$.forEach((q,ee)=>{var Nr;const Ue=1/(1+H(P[P.length-1].coordinates,q.coordinates)/1e3),le=1/(1+P.filter(Gn=>Gn.artist===q.artist).length),Fs=(q.title.toLowerCase().includes("mural")?.2:0)+(((Nr=q.description)==null?void 0:Nr.length)>100?.1:0)+(q.image?.3:0),wn=Ue*.4+le*.4+Fs*.2;wn>se&&(se=wn,G=ee)}),P.push($[G]),$.splice(G,1)}return P},C=E=>{const I=E.reduce((P,$)=>({lat:P.lat+$.coordinates.lat,lng:P.lng+$.coordinates.lng}),{lat:0,lng:0});return{lat:I.lat/E.length,lng:I.lng/E.length}},T=(E,I)=>{if(E.length!==I.length)return!1;let P=0;const $=Math.floor(E.length*.7);for(let j=0;j<E.length;j++)I.some(W=>W.id===E[j].id)&&P++;return P>=$},M=E=>{const I=[...E];for(let P=I.length-1;P>0;P--){const $=Math.floor(Math.random()*(P+1));[I[P],I[$]]=[I[$],I[P]]}return I},F=(E,I)=>{if(E.length<=I)return E;const P=Math.floor(Math.random()*E.length),$=[E[P]];for(E.splice(P,1);$.length<I&&E.length>0;){const j=$[$.length-1];let W=0,Z=H(j.coordinates,E[0].coordinates);for(let G=1;G<E.length;G++){const se=H(j.coordinates,E[G].coordinates);se<Z&&(Z=se,W=G)}$.push(E[W]),E.splice(W,1)}return $},A=(E,I)=>{if(E.length<=I)return E;const P={};E.forEach(W=>{P[W.artist]||(P[W.artist]=[]),P[W.artist].push(W)});const $=[],j=Object.keys(P);for(const W of M(j)){if($.length>=I)break;if(P[W].length>0){const Z=Math.floor(Math.random()*P[W].length);$.push(P[W][Z]),P[W].splice(Z,1)}}for(;$.length<I;){const W=j.filter(se=>P[se].length>0);if(W.length===0)break;const Z=W[Math.floor(Math.random()*W.length)],G=Math.floor(Math.random()*P[Z].length);$.push(P[Z][G]),P[Z].splice(G,1)}return M($)},U=(E,I)=>{if(E.length<=I)return E;const P=E.map(j=>{var W;return{...j,score:Math.random()*(1+(j.title.toLowerCase().includes("mural")?.2:0)+(((W=j.description)==null?void 0:W.length)>100?.1:0)+(j.image?.3:0))}});P.sort((j,W)=>W.score-j.score);const $=P.slice(0,I);return M($)},H=(E,I)=>{const $=E.lat*Math.PI/180,j=I.lat*Math.PI/180,W=(I.lat-E.lat)*Math.PI/180,Z=(I.lng-E.lng)*Math.PI/180,G=Math.sin(W/2)*Math.sin(W/2)+Math.cos($)*Math.cos(j)*Math.sin(Z/2)*Math.sin(Z/2);return 6371e3*(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)))},J=E=>{const I=m.filter(P=>P.neighborhood_id===e);return M(I).slice(0,E).map(P=>({id:P.id,title:P.title,artist:P.artist_name,coordinates:{lat:P.latitude,lng:P.longitude}}))},K=(E,I)=>{const P=m.filter($=>$.neighborhood_id===e&&E.includes($.id));return M(P).slice(0,I).map($=>({id:$.id,title:$.title,artist:$.artist_name,coordinates:{lat:$.latitude,lng:$.longitude}}))},R=(E,I)=>{const P=m.filter($=>$.neighborhood_id===e&&E.includes($.artist_id));return M(P).slice(0,I).map($=>({id:$.id,title:$.title,artist:$.artist_name,coordinates:{lat:$.latitude,lng:$.longitude}}))},z=E=>Math.floor(E/(U1*2)),B=a!=="";return v||_||g?h.jsx("div",{className:"container mx-auto p-4",children:"Loading..."}):h.jsxs("div",{className:"container mx-auto p-4",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Build Your Tour"}),f&&h.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsx("p",{className:"text-blue-800",children:f})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select a Neighborhood"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y.map(E=>h.jsx(Hr,{id:E.id,title:E.name,imageUrl:E.hero_image,selected:e===E.id,onClick:I=>{n(I),s(new Set),o(new Set),d([])}},E.id))})]}),e&&h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Select Artists",h.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(Select multiple)"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx(Hr,{id:pe,title:"Surprise Me!",subtitle:"Let us pick artists for you",imageUrl:"https://impgpcljswbjfzdpinjq.supabase.co/storage/v1/object/public/street_art_images/surprise%20me.jpeg",selected:r.has(pe),onClick:L}),w.filter(E=>E.id!==pe).map(E=>h.jsx(Hr,{id:E.id,title:E.name,imageUrl:E.hero_image,selected:r.has(E.id),onClick:L},E.id))]})]}),r.size>0&&h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Select Street Art",h.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(Select multiple)"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx(Hr,{id:pe,title:"Surprise Me!",subtitle:"Let us pick street art for you",imageUrl:"https://impgpcljswbjfzdpinjq.supabase.co/storage/v1/object/public/street_art_images/surprise%20me.jpeg",selected:i.has(pe),onClick:k}),x.filter(E=>E.id!==pe).map(E=>{var I;return h.jsx(Hr,{id:E.id,title:E.title||"Untitled",imageUrl:E.image,subtitle:(I=b.find(P=>P.id===E.artist_id))==null?void 0:I.name,selected:i.has(E.id),onClick:k},E.id)})]})]})]}),h.jsx("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:h.jsxs("div",{children:[u.length>0&&!i.has(pe)&&h.jsx("div",{className:"space-y-4 mb-6",children:u.map((E,I)=>h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[h.jsx("h3",{className:"font-medium",children:E.title}),h.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["by ",E.artist]})]},I))}),(u.length>0||i.size>0)&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"tourLength",className:"block text-lg font-medium text-gray-700 mb-2",children:"Tour Length (minutes)"}),h.jsxs("select",{id:"tourLength",value:a,onChange:E=>l(E.target.value),className:"block w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select duration"}),h.jsx("option",{value:"30",children:"30 minutes"}),h.jsx("option",{value:"60",children:"1 hour"}),h.jsx("option",{value:"90",children:"1.5 hours"}),h.jsx("option",{value:"120",children:"2 hours"}),h.jsx("option",{value:"150",children:"2.5 hours"}),h.jsx("option",{value:"180",children:"3 hours"})]})]}),h.jsx("button",{onClick:S,disabled:!B,className:`
                    w-full py-3 px-6 rounded-lg font-semibold text-white
                    transition-all duration-200
                    ${B?"bg-blue-500 hover:bg-blue-600 transform hover:scale-105":"bg-gray-300 cursor-not-allowed"}
                  `,children:"Create My Tour"})]})]})})]})]})}function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function B1(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1(t){var e=B1(t,"string");return Ts(e)=="symbol"?e:e+""}function O(t,e,n){return(e=F1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ea,Hd;function W1(){if(Hd)return Ea;Hd=1;var t=function(n,r,s,i,o,a,l,u){if(!n){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[s,i,o,a,l,u],p=0;d=new Error(r.replace(/%s/g,function(){return f[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return Ea=t,Ea}var V1=W1(),ke=rm(V1),Y=c.createContext(null);function H1(){ke(!!c.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=c.useContext(Y);return ke(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function G1(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function q1(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function K1(t,e,n,r){var s={},i=(o,a)=>{var l=n[a];l!==e[a]&&(s[a]=l,o(r,l))};return q1(t,i),s}function Z1(t,e,n){var r=G1(n,function(i,o,a){return typeof t[a]=="function"&&i.push(google.maps.event.addListener(e,o,t[a])),i},[]);return r}function J1(t){google.maps.event.removeListener(t)}function ne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(J1)}function te(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,o=Z1(s,i,n);return K1(e,r,s,i),o}var Gd={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},qd={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function Q1(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:o,onClick:a,onDblClick:l,onDrag:u,onDragEnd:d,onDragStart:f,onMouseMove:p,onMouseOut:y,onMouseOver:v,onMouseDown:b,onMouseUp:_,onRightClick:m,onCenterChanged:g,onLoad:w,onUnmount:x}=t,[L,k]=c.useState(null),S=c.useRef(null),[N,C]=c.useState(null),[T,M]=c.useState(null),[F,A]=c.useState(null),[U,H]=c.useState(null),[J,K]=c.useState(null),[R,z]=c.useState(null),[B,E]=c.useState(null),[I,P]=c.useState(null),[$,j]=c.useState(null),[W,Z]=c.useState(null),[G,se]=c.useState(null),[q,ee]=c.useState(null);return c.useEffect(()=>{n&&L!==null&&L.setOptions(n)},[L,n]),c.useEffect(()=>{L!==null&&typeof o<"u"&&L.setCenter(o)},[L,o]),c.useEffect(()=>{L&&l&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(L,"dblclick",l)))},[l]),c.useEffect(()=>{L&&d&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(L,"dragend",d)))},[d]),c.useEffect(()=>{L&&f&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(L,"dragstart",f)))},[f]),c.useEffect(()=>{L&&b&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(L,"mousedown",b)))},[b]),c.useEffect(()=>{L&&p&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(L,"mousemove",p)))},[p]),c.useEffect(()=>{L&&y&&(B!==null&&google.maps.event.removeListener(B),E(google.maps.event.addListener(L,"mouseout",y)))},[y]),c.useEffect(()=>{L&&v&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(L,"mouseover",v)))},[v]),c.useEffect(()=>{L&&_&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(L,"mouseup",_)))},[_]),c.useEffect(()=>{L&&m&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(L,"rightclick",m)))},[m]),c.useEffect(()=>{L&&a&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(L,"click",a)))},[a]),c.useEffect(()=>{L&&u&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(L,"drag",u)))},[u]),c.useEffect(()=>{L&&g&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(L,"center_changed",g)))},[a]),c.useEffect(()=>{var me=S.current===null?null:new google.maps.Map(S.current,n);return k(me),me!==null&&w&&w(me),()=>{me!==null&&x&&x(me)}},[]),h.jsx("div",{id:r,ref:S,style:s,className:i,children:h.jsx(Y.Provider,{value:L,children:L!==null?e:null})})}c.memo(Q1);class Fu extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{map:null}),O(this,"registeredEvents",[]),O(this,"mapRef",null),O(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),O(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),O(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),O(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=te({updaterMap:qd,eventMap:Gd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:qd,eventMap:Gd,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ne(this.registeredEvents))}render(){return h.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:h.jsx(Y.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Kd(t,e,n,r,s,i,o){try{var a=t[i](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,s)}function sm(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(l){Kd(i,r,s,o,a,"next",l)}function a(l){Kd(i,r,s,o,a,"throw",l)}o(void 0)})}}function im(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u}=t,d=[];return ke(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),s&&d.push("language=".concat(s)),i&&d.push("region=".concat(i)),o&&o.length&&d.push("libraries=".concat(o.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("loading=async"),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var Pn=typeof document<"u";function om(t){var{url:e,id:n,nonce:r}=t;return Pn?new Promise(function(i,o){var a=document.getElementById(n),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return i(n);var d=l.initMap,f=a.onerror;l.initMap=function(){d&&d(),i(n)},a.onerror=function(y){f&&f(y),o(y)};return}else a.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(v){p.setAttribute("data-state","error"),o(v)},l.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function Zd(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function am(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return Zd(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return Zd(s)||Reflect.apply(n,t,[s]),s}}}var Gr=!1;function lm(){return h.jsx("div",{children:"Loading..."})}var Nl={id:"script-loader",version:"weekly"};class um extends c.PureComponent{constructor(){super(...arguments),O(this,"check",c.createRef()),O(this,"state",{loaded:!1}),O(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),O(this,"isCleaningUp",sm(function*(){function e(n){if(!Gr)n();else if(Pn)var r=window.setInterval(function(){Gr||(window.clearInterval(r),n())},1)}return new Promise(e)})),O(this,"cleanup",()=>{Gr=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),O(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&am(),ke(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:im(this.props)};om(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(Pn){if(window.google&&window.google.maps&&!Gr){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Pn&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Pn){this.cleanup();var e=()=>{this.check.current||(delete window.google,Gr=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||h.jsx(lm,{})]})}}O(um,"defaultProps",Nl);function Y1(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Wu(t,e){if(t==null)return{};var n,r,s=Y1(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var Jd;function X1(t){var{id:e=Nl.id,version:n=Nl.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,preventGoogleFontsLoading:u,channel:d,mapIds:f,authReferrerPolicy:p}=t,y=c.useRef(!1),[v,b]=c.useState(!1),[_,m]=c.useState(void 0);c.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]),c.useEffect(function(){Pn&&u&&am()},[u]),c.useEffect(function(){v&&ke(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var g=im({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,channel:d,mapIds:f,authReferrerPolicy:p});c.useEffect(function(){if(!Pn)return;function L(){y.current&&(b(!0),Jd=g)}if(window.google&&window.google.maps&&Jd===g){L();return}om({id:e,url:g,nonce:r}).then(L).catch(function(S){y.current&&m(S),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(S)})},[e,g,r]);var w=c.useRef();return c.useEffect(function(){w.current&&l!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=l},[l]),{isLoaded:v,loadError:_,url:g}}var eb=["loadingElement","onLoad","onError","onUnmount","children"],tb=h.jsx(lm,{});function nb(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=Wu(t,eb),{isLoaded:a,loadError:l}=X1(o);return c.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),c.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),c.useEffect(function(){return()=>{s&&s()}},[s]),a?i:e||tb}c.memo(nb);var Qd;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Qd||(Qd={}));function Yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yd(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Xd={},eh={options(t,e){t.setOptions(e)}};function rb(t){var{options:e,onLoad:n,onUnmount:r}=t,s=c.useContext(Y),[i,o]=c.useState(null);return c.useEffect(()=>{i!==null&&i.setMap(s)},[s]),c.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),c.useEffect(()=>{var a=new google.maps.TrafficLayer(co(co({},e),{},{map:s}));return o(a),n&&n(a),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}c.memo(rb);class sb extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{trafficLayer:null}),O(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),O(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(co(co({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:eh,eventMap:Xd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:eh,eventMap:Xd,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ne(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}O(sb,"contextType",Y);function ib(t){var{onLoad:e,onUnmount:n}=t,r=c.useContext(Y),[s,i]=c.useState(null);return c.useEffect(()=>{s!==null&&s.setMap(r)},[r]),c.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}c.memo(ib);class ob extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{bicyclingLayer:null}),O(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}O(ob,"contextType",Y);function ab(t){var{onLoad:e,onUnmount:n}=t,r=c.useContext(Y),[s,i]=c.useState(null);return c.useEffect(()=>{s!==null&&s.setMap(r)},[r]),c.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(r),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}c.memo(ab);class lb extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{transitLayer:null}),O(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}O(lb,"contextType",Y);function th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?th(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nh={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},rh={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function ub(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:u,onUnmount:d}=t,f=c.useContext(Y),[p,y]=c.useState(null),[v,b]=c.useState(null),[_,m]=c.useState(null),[g,w]=c.useState(null),[x,L]=c.useState(null),[k,S]=c.useState(null),[N,C]=c.useState(null);return c.useEffect(()=>{p!==null&&p.setMap(f)},[f]),c.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),c.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),c.useEffect(()=>{p&&r&&(v!==null&&google.maps.event.removeListener(v),b(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),c.useEffect(()=>{p&&s&&(_!==null&&google.maps.event.removeListener(_),m(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),c.useEffect(()=>{p&&i&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),c.useEffect(()=>{p&&o&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),c.useEffect(()=>{p&&a&&(k!==null&&google.maps.event.removeListener(k),S(google.maps.event.addListener(p,"polylinecomplete",a)))},[p,a]),c.useEffect(()=>{p&&l&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(p,"rectanglecomplete",l)))},[p,l]),c.useEffect(()=>{ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(ho(ho({},e),{},{map:f}));return n&&T.setDrawingMode(n),r&&b(google.maps.event.addListener(T,"circlecomplete",r)),s&&m(google.maps.event.addListener(T,"markercomplete",s)),i&&w(google.maps.event.addListener(T,"overlaycomplete",i)),o&&L(google.maps.event.addListener(T,"polygoncomplete",o)),a&&S(google.maps.event.addListener(T,"polylinecomplete",a)),l&&C(google.maps.event.addListener(T,"rectanglecomplete",l)),y(T),u&&u(T),()=>{p!==null&&(v&&google.maps.event.removeListener(v),_&&google.maps.event.removeListener(_),g&&google.maps.event.removeListener(g),x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),d&&d(p),p.setMap(null))}},[]),null}c.memo(ub);class cb extends c.PureComponent{constructor(e){super(e),O(this,"registeredEvents",[]),O(this,"state",{drawingManager:null}),O(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(ho(ho({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:rh,eventMap:nh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:rh,eventMap:nh,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ne(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}O(cb,"contextType",Y);function sh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ih={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},oh={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},fo={};function db(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:o,visible:a,animation:l,clickable:u,cursor:d,icon:f,label:p,opacity:y,shape:v,title:b,zIndex:_,onClick:m,onDblClick:g,onDrag:w,onDragEnd:x,onDragStart:L,onMouseOut:k,onMouseOver:S,onMouseUp:N,onMouseDown:C,onRightClick:T,onClickableChanged:M,onCursorChanged:F,onAnimationChanged:A,onDraggableChanged:U,onFlatChanged:H,onIconChanged:J,onPositionChanged:K,onShapeChanged:R,onTitleChanged:z,onVisibleChanged:B,onZindexChanged:E,onLoad:I,onUnmount:P}=t,$=c.useContext(Y),[j,W]=c.useState(null),[Z,G]=c.useState(null),[se,q]=c.useState(null),[ee,me]=c.useState(null),[Ue,Hn]=c.useState(null),[le,Fs]=c.useState(null),[wn,Nr]=c.useState(null),[Gn,qu]=c.useState(null),[Ws,Ku]=c.useState(null),[Vs,Zu]=c.useState(null),[Ju,Qu]=c.useState(null),[Hs,Yu]=c.useState(null),[Gs,Xu]=c.useState(null),[qs,ec]=c.useState(null),[Ks,tc]=c.useState(null),[Zs,nc]=c.useState(null),[Js,rc]=c.useState(null),[Qs,sc]=c.useState(null),[ic,oc]=c.useState(null),[Ys,ac]=c.useState(null),[Xs,lc]=c.useState(null),[ei,uc]=c.useState(null);c.useEffect(()=>{j!==null&&j.setMap($)},[$]),c.useEffect(()=>{typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),c.useEffect(()=>{typeof o<"u"&&j!==null&&j.setDraggable(o)},[j,o]),c.useEffect(()=>{e&&j!==null&&j.setPosition(e)},[j,e]),c.useEffect(()=>{typeof a<"u"&&j!==null&&j.setVisible(a)},[j,a]),c.useEffect(()=>{j==null||j.setAnimation(l)},[j,l]),c.useEffect(()=>{j&&u!==void 0&&j.setClickable(u)},[j,u]),c.useEffect(()=>{j&&d!==void 0&&j.setCursor(d)},[j,d]),c.useEffect(()=>{j&&f!==void 0&&j.setIcon(f)},[j,f]),c.useEffect(()=>{j&&p!==void 0&&j.setLabel(p)},[j,p]),c.useEffect(()=>{j&&y!==void 0&&j.setOpacity(y)},[j,y]),c.useEffect(()=>{j&&v!==void 0&&j.setShape(v)},[j,v]),c.useEffect(()=>{j&&b!==void 0&&j.setTitle(b)},[j,b]),c.useEffect(()=>{j&&_!==void 0&&j.setZIndex(_)},[j,_]),c.useEffect(()=>{j&&g&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(j,"dblclick",g)))},[g]),c.useEffect(()=>{j&&x&&(se!==null&&google.maps.event.removeListener(se),q(google.maps.event.addListener(j,"dragend",x)))},[x]),c.useEffect(()=>{j&&L&&(ee!==null&&google.maps.event.removeListener(ee),me(google.maps.event.addListener(j,"dragstart",L)))},[L]),c.useEffect(()=>{j&&C&&(Ue!==null&&google.maps.event.removeListener(Ue),Hn(google.maps.event.addListener(j,"mousedown",C)))},[C]),c.useEffect(()=>{j&&k&&(le!==null&&google.maps.event.removeListener(le),Fs(google.maps.event.addListener(j,"mouseout",k)))},[k]),c.useEffect(()=>{j&&S&&(wn!==null&&google.maps.event.removeListener(wn),Nr(google.maps.event.addListener(j,"mouseover",S)))},[S]),c.useEffect(()=>{j&&N&&(Gn!==null&&google.maps.event.removeListener(Gn),qu(google.maps.event.addListener(j,"mouseup",N)))},[N]),c.useEffect(()=>{j&&T&&(Ws!==null&&google.maps.event.removeListener(Ws),Ku(google.maps.event.addListener(j,"rightclick",T)))},[T]),c.useEffect(()=>{j&&m&&(Vs!==null&&google.maps.event.removeListener(Vs),Zu(google.maps.event.addListener(j,"click",m)))},[m]),c.useEffect(()=>{j&&w&&(Ju!==null&&google.maps.event.removeListener(Ju),Qu(google.maps.event.addListener(j,"drag",w)))},[w]),c.useEffect(()=>{j&&M&&(Hs!==null&&google.maps.event.removeListener(Hs),Yu(google.maps.event.addListener(j,"clickable_changed",M)))},[M]),c.useEffect(()=>{j&&F&&(Gs!==null&&google.maps.event.removeListener(Gs),Xu(google.maps.event.addListener(j,"cursor_changed",F)))},[F]),c.useEffect(()=>{j&&A&&(qs!==null&&google.maps.event.removeListener(qs),ec(google.maps.event.addListener(j,"animation_changed",A)))},[A]),c.useEffect(()=>{j&&U&&(Ks!==null&&google.maps.event.removeListener(Ks),tc(google.maps.event.addListener(j,"draggable_changed",U)))},[U]),c.useEffect(()=>{j&&H&&(Zs!==null&&google.maps.event.removeListener(Zs),nc(google.maps.event.addListener(j,"flat_changed",H)))},[H]),c.useEffect(()=>{j&&J&&(Js!==null&&google.maps.event.removeListener(Js),rc(google.maps.event.addListener(j,"icon_changed",J)))},[J]),c.useEffect(()=>{j&&K&&(Qs!==null&&google.maps.event.removeListener(Qs),sc(google.maps.event.addListener(j,"position_changed",K)))},[K]),c.useEffect(()=>{j&&R&&(ic!==null&&google.maps.event.removeListener(ic),oc(google.maps.event.addListener(j,"shape_changed",R)))},[R]),c.useEffect(()=>{j&&z&&(Ys!==null&&google.maps.event.removeListener(Ys),ac(google.maps.event.addListener(j,"title_changed",z)))},[z]),c.useEffect(()=>{j&&B&&(Xs!==null&&google.maps.event.removeListener(Xs),lc(google.maps.event.addListener(j,"visible_changed",B)))},[B]),c.useEffect(()=>{j&&E&&(ei!==null&&google.maps.event.removeListener(ei),uc(google.maps.event.addListener(j,"zindex_changed",E)))},[E]),c.useEffect(()=>{var Rr=mr(mr(mr({},n||fo),r?fo:{map:$}),{},{position:e}),Q=new google.maps.Marker(Rr);return r?r.addMarker(Q,!!s):Q.setMap($),e&&Q.setPosition(e),typeof a<"u"&&Q.setVisible(a),typeof o<"u"&&Q.setDraggable(o),typeof u<"u"&&Q.setClickable(u),typeof d=="string"&&Q.setCursor(d),f&&Q.setIcon(f),typeof p<"u"&&Q.setLabel(p),typeof y<"u"&&Q.setOpacity(y),v&&Q.setShape(v),typeof b=="string"&&Q.setTitle(b),typeof _=="number"&&Q.setZIndex(_),g&&G(google.maps.event.addListener(Q,"dblclick",g)),x&&q(google.maps.event.addListener(Q,"dragend",x)),L&&me(google.maps.event.addListener(Q,"dragstart",L)),C&&Hn(google.maps.event.addListener(Q,"mousedown",C)),k&&Fs(google.maps.event.addListener(Q,"mouseout",k)),S&&Nr(google.maps.event.addListener(Q,"mouseover",S)),N&&qu(google.maps.event.addListener(Q,"mouseup",N)),T&&Ku(google.maps.event.addListener(Q,"rightclick",T)),m&&Zu(google.maps.event.addListener(Q,"click",m)),w&&Qu(google.maps.event.addListener(Q,"drag",w)),M&&Yu(google.maps.event.addListener(Q,"clickable_changed",M)),F&&Xu(google.maps.event.addListener(Q,"cursor_changed",F)),A&&ec(google.maps.event.addListener(Q,"animation_changed",A)),U&&tc(google.maps.event.addListener(Q,"draggable_changed",U)),H&&nc(google.maps.event.addListener(Q,"flat_changed",H)),J&&rc(google.maps.event.addListener(Q,"icon_changed",J)),K&&sc(google.maps.event.addListener(Q,"position_changed",K)),R&&oc(google.maps.event.addListener(Q,"shape_changed",R)),z&&ac(google.maps.event.addListener(Q,"title_changed",z)),B&&lc(google.maps.event.addListener(Q,"visible_changed",B)),E&&uc(google.maps.event.addListener(Q,"zindex_changed",E)),W(Q),I&&I(Q),()=>{Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),ee!==null&&google.maps.event.removeListener(ee),Ue!==null&&google.maps.event.removeListener(Ue),le!==null&&google.maps.event.removeListener(le),wn!==null&&google.maps.event.removeListener(wn),Gn!==null&&google.maps.event.removeListener(Gn),Ws!==null&&google.maps.event.removeListener(Ws),Vs!==null&&google.maps.event.removeListener(Vs),Hs!==null&&google.maps.event.removeListener(Hs),Gs!==null&&google.maps.event.removeListener(Gs),qs!==null&&google.maps.event.removeListener(qs),Ks!==null&&google.maps.event.removeListener(Ks),Zs!==null&&google.maps.event.removeListener(Zs),Js!==null&&google.maps.event.removeListener(Js),Qs!==null&&google.maps.event.removeListener(Qs),Ys!==null&&google.maps.event.removeListener(Ys),Xs!==null&&google.maps.event.removeListener(Xs),ei!==null&&google.maps.event.removeListener(ei),P&&P(Q),r?r.removeMarker(Q,!!s):Q&&Q.setMap(null)}},[]);var Lm=c.useMemo(()=>i?c.Children.map(i,Rr=>{if(!c.isValidElement(Rr))return Rr;var Q=Rr;return c.cloneElement(Q,{anchor:j})}):null,[i,j]);return h.jsx(h.Fragment,{children:Lm})||null}var Rl=c.memo(db);class hb extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[])}componentDidMount(){var e=this;return sm(function*(){var n=mr(mr(mr({},e.props.options||fo),e.props.clusterer?fo:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=te({updaterMap:oh,eventMap:ih,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:oh,eventMap:ih,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ne(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?c.Children.map(this.props.children,n=>{if(!c.isValidElement(n))return n;var r=n;return c.cloneElement(r,{anchor:this.marker})}):null;return e||null}}O(hb,"contextType",Y);var fb=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=a,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var y=document.createElement("div");y.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(y.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(y.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(y),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),pb=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new fb(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],o=i.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var d=u[l];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function gb(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var mb=2e3,vb=500,yb="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",wb="png",xb=[53,56,66,78,90],bb="cluster",cm=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||yb,this.imageExtension=r.imageExtension||wb,this.imageSizes=r.imageSizes||xb,this.calculator=r.calculator||gb,this.batchSize=r.batchSize||mb,this.batchSizeIE=r.batchSizeIE||vb,this.clusterClass=r.clusterClass||bb,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var o=i[s];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],o=i.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var o=i[s];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var a=o[i];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,o=this.clusters;i<o.length;i++){var a=o[i];n=a;var l=n.getCenter(),u=e.getPosition();if(l&&u){var d=this.distanceBetweenPoints(l,u);d<r&&(r=d,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new pb(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,a)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,p=this.clusters;f<p.length;f++){var y=p[f];y.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var o=i;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ah(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var it={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ae={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},_b={};function Sb(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:d,imagePath:f,imageSizes:p,maxZoom:y,minimumClusterSize:v,styles:b,title:_,zoomOnClick:m,onClick:g,onClusteringBegin:w,onClusteringEnd:x,onMouseOver:L,onMouseOut:k,onLoad:S,onUnmount:N}=t,[C,T]=c.useState(null),M=c.useContext(Y),[F,A]=c.useState(null),[U,H]=c.useState(null),[J,K]=c.useState(null),[R,z]=c.useState(null),[B,E]=c.useState(null);return c.useEffect(()=>{C&&k&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(C,it.onMouseOut,k)))},[k]),c.useEffect(()=>{C&&L&&(B!==null&&google.maps.event.removeListener(B),E(google.maps.event.addListener(C,it.onMouseOver,L)))},[L]),c.useEffect(()=>{C&&g&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(C,it.onClick,g)))},[g]),c.useEffect(()=>{C&&w&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(C,it.onClusteringBegin,w)))},[w]),c.useEffect(()=>{C&&x&&(J!==null&&google.maps.event.removeListener(J),H(google.maps.event.addListener(C,it.onClusteringEnd,x)))},[x]),c.useEffect(()=>{typeof r<"u"&&C!==null&&ae.averageCenter(C,r)},[C,r]),c.useEffect(()=>{typeof s<"u"&&C!==null&&ae.batchSizeIE(C,s)},[C,s]),c.useEffect(()=>{typeof i<"u"&&C!==null&&ae.calculator(C,i)},[C,i]),c.useEffect(()=>{typeof o<"u"&&C!==null&&ae.clusterClass(C,o)},[C,o]),c.useEffect(()=>{typeof a<"u"&&C!==null&&ae.enableRetinaIcons(C,a)},[C,a]),c.useEffect(()=>{typeof l<"u"&&C!==null&&ae.gridSize(C,l)},[C,l]),c.useEffect(()=>{typeof u<"u"&&C!==null&&ae.ignoreHidden(C,u)},[C,u]),c.useEffect(()=>{typeof d<"u"&&C!==null&&ae.imageExtension(C,d)},[C,d]),c.useEffect(()=>{typeof f<"u"&&C!==null&&ae.imagePath(C,f)},[C,f]),c.useEffect(()=>{typeof p<"u"&&C!==null&&ae.imageSizes(C,p)},[C,p]),c.useEffect(()=>{typeof y<"u"&&C!==null&&ae.maxZoom(C,y)},[C,y]),c.useEffect(()=>{typeof v<"u"&&C!==null&&ae.minimumClusterSize(C,v)},[C,v]),c.useEffect(()=>{typeof b<"u"&&C!==null&&ae.styles(C,b)},[C,b]),c.useEffect(()=>{typeof _<"u"&&C!==null&&ae.title(C,_)},[C,_]),c.useEffect(()=>{typeof m<"u"&&C!==null&&ae.zoomOnClick(C,m)},[C,m]),c.useEffect(()=>{if(M){var I=Lb({},n||_b),P=new cm(M,[],I);return r&&ae.averageCenter(P,r),s&&ae.batchSizeIE(P,s),i&&ae.calculator(P,i),o&&ae.clusterClass(P,o),a&&ae.enableRetinaIcons(P,a),l&&ae.gridSize(P,l),u&&ae.ignoreHidden(P,u),d&&ae.imageExtension(P,d),f&&ae.imagePath(P,f),p&&ae.imageSizes(P,p),y&&ae.maxZoom(P,y),v&&ae.minimumClusterSize(P,v),b&&ae.styles(P,b),_&&ae.title(P,_),m&&ae.zoomOnClick(P,m),k&&z(google.maps.event.addListener(P,it.onMouseOut,k)),L&&E(google.maps.event.addListener(P,it.onMouseOver,L)),g&&A(google.maps.event.addListener(P,it.onClick,g)),w&&H(google.maps.event.addListener(P,it.onClusteringBegin,w)),x&&K(google.maps.event.addListener(P,it.onClusteringEnd,x)),T(P),S&&S(P),()=>{R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),N&&N(P)}}},[]),C!==null&&e(C)||null}c.memo(Sb);class kb extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{markerClusterer:null}),O(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new cm(this.context,[],this.props.options);this.registeredEvents=te({updaterMap:ae,eventMap:it,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:ae,eventMap:it,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ne(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}O(kb,"contextType",Y);function lh(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var dm=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||lh(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=i;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,lh))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,f=this.div.offsetWidth,p=this.div.offsetHeight,y=this.infoBoxClearance.width,v=this.infoBoxClearance.height,b=this.getProjection(),_=b.fromLatLngToContainerPixel(this.position);_!==null&&(_.x<-u+y?r=_.x+u-y:_.x+f+u+y>a&&(r=_.x+f+u+y-a),this.alignBottom?_.y<-d+v+p?s=_.y+d-v-p:_.y+d+v>l&&(s=_.y+d+v-l):_.y<-d+v?s=_.y+d-v:_.y+p+d+v>l&&(s=_.y+p+d+v-l)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),Eb=["position"],Cb=["position"];function uh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ch={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},dh={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},jb={};function Pb(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:d,onLoad:f,onUnmount:p}=t,y=c.useContext(Y),[v,b]=c.useState(null),[_,m]=c.useState(null),[g,w]=c.useState(null),[x,L]=c.useState(null),[k,S]=c.useState(null),[N,C]=c.useState(null),T=c.useRef(null);return c.useEffect(()=>{y&&v!==null&&(v.close(),n?v.open(y,n):v.getPosition()&&v.open(y))},[y,v,n]),c.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),c.useEffect(()=>{if(s&&v!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(M)}},[s]),c.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),c.useEffect(()=>{v&&o&&(_!==null&&google.maps.event.removeListener(_),m(google.maps.event.addListener(v,"closeclick",o)))},[o]),c.useEffect(()=>{v&&a&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(v,"domready",a)))},[a]),c.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(v,"content_changed",l)))},[l]),c.useEffect(()=>{v&&u&&(k!==null&&google.maps.event.removeListener(k),S(google.maps.event.addListener(v,"position_changed",u)))},[u]),c.useEffect(()=>{v&&d&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(v,"zindex_changed",d)))},[d]),c.useEffect(()=>{if(y){var M=r||jb,{position:F}=M,A=Wu(M,Eb),U;F&&!(F instanceof google.maps.LatLng)&&(U=new google.maps.LatLng(F.lat,F.lng));var H=new dm(po(po({},A),U?{position:U}:{}));T.current=document.createElement("div"),b(H),o&&m(google.maps.event.addListener(H,"closeclick",o)),a&&w(google.maps.event.addListener(H,"domready",a)),l&&L(google.maps.event.addListener(H,"content_changed",l)),u&&S(google.maps.event.addListener(H,"position_changed",u)),d&&C(google.maps.event.addListener(H,"zindex_changed",d)),H.setContent(T.current),n?H.open(y,n):H.getPosition()?H.open(y):ke(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(H)}return()=>{v!==null&&(_&&google.maps.event.removeListener(_),x&&google.maps.event.removeListener(x),g&&google.maps.event.removeListener(g),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),p&&p(v),v.close())}},[]),T.current?Un.createPortal(c.Children.only(e),T.current):null}c.memo(Pb);class Ob extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"containerElement",null),O(this,"state",{infoBox:null}),O(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):ke(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),O(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Wu(e,Cb),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new dm(po(po({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:dh,eventMap:ch,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:dh,eventMap:ch,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ne(this.registeredEvents),n.close())}render(){return this.containerElement?Un.createPortal(c.Children.only(this.props.children),this.containerElement):null}}O(Ob,"contextType",Y);var Ca,hh;function Mb(){return hh||(hh=1,Ca=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Ca}var Tb=Mb(),fh=rm(Tb),ph=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ja=1,qr=8;class Vu{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==ja)throw new Error("Got v".concat(s," data when expected v").concat(ja,"."));var i=ph[r&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Vu(a,o,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=ph.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,qr,e),this.coords=new this.ArrayType(this.data,qr+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(qr+o+a+l),this.ids=new this.IndexArrayType(this.data,qr,e),this.coords=new this.ArrayType(this.data,qr+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ja<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Il(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:a}=this,l=[0,i.length-1,0],u=[];l.length;){var d=l.pop()||0,f=l.pop()||0,p=l.pop()||0;if(f-p<=a){for(var y=p;y<=f;y++){var v=o[2*y],b=o[2*y+1];v>=e&&v<=r&&b>=n&&b<=s&&u.push(i[y])}continue}var _=p+f>>1,m=o[2*_],g=o[2*_+1];m>=e&&m<=r&&g>=n&&g<=s&&u.push(i[_]),(d===0?e<=m:n<=g)&&(l.push(p),l.push(_-1),l.push(1-d)),(d===0?r>=m:s>=g)&&(l.push(_+1),l.push(f),l.push(1-d))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],l=[],u=r*r;a.length;){var d=a.pop()||0,f=a.pop()||0,p=a.pop()||0;if(f-p<=o){for(var y=p;y<=f;y++)gh(i[2*y],i[2*y+1],e,n)<=u&&l.push(s[y]);continue}var v=p+f>>1,b=i[2*v],_=i[2*v+1];gh(b,_,e,n)<=u&&l.push(s[v]),(d===0?e-r<=b:n-r<=_)&&(a.push(p),a.push(v-1),a.push(1-d)),(d===0?e+r>=b:n+r>=_)&&(a.push(v+1),a.push(f),a.push(1-d))}return l}}function Il(t,e,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;hm(t,e,o,r,s,i),Il(t,e,n,r,o-1,1-i),Il(t,e,n,o+1,s,1-i)}}function hm(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),f=Math.max(r,Math.floor(n-a*u/o+d)),p=Math.min(s,Math.floor(n+(o-a)*u/o+d));hm(t,e,n,f,p,i)}var y=e[2*n+i],v=r,b=s;for(Kr(t,e,r,n),e[2*s+i]>y&&Kr(t,e,r,s);v<b;){for(Kr(t,e,v,b),v++,b--;e[2*v+i]<y;)v++;for(;e[2*b+i]>y;)b--}e[2*r+i]===y?Kr(t,e,r,b):(b++,Kr(t,e,b,s)),b<=n&&(r=b+1),n<=b&&(s=b-1)}}function Kr(t,e,n,r){Pa(t,n,r),Pa(e,2*n,2*r),Pa(e,2*n+1,2*r+1)}function Pa(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function gh(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var Nb={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},mh=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),bn=2,Jt=3,Oa=4,Gt=5,fm=6;class Rb{constructor(e){this.options=Object.assign(Object.create(Nb),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[u,d]=l.geometry.coordinates,f=mh(Li(u)),p=mh(_i(d));o.push(f,p,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var y=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var b=+Date.now();y=this.trees[v]=this._createTree(this._cluster(y,v)),n&&console.log("z%d: %d clusters in %dms",v,y.numItems,+Date.now()-b)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,s,180,o],n),l=this.getClusters([-180,s,i,o],n);return a.concat(l)}var u=this.trees[this._limitZoom(n)],d=u.range(Li(r),_i(o),Li(i),_i(s)),f=u.data,p=[];for(var y of d){var v=this.stride*y;p.push(f[v+Gt]>1?vh(f,v,this.clusterProps):this.points[f[v+Jt]])}return p}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var o=i.data;if(n*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],u=o[n*this.stride+1],d=i.within(l,u,a),f=[];for(var p of d){var y=p*this.stride;o[y+Oa]===e&&f.push(o[y+Gt]>1?vh(o,y,this.clusterProps):this.points[o[y+Jt]])}if(f.length===0)throw new Error(s);return f}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/i,d=(r+1+l)/i,f={features:[]};return this._addTileFeatures(s.range((n-l)/i,u,(n+1+l)/i,d),s.data,n,r,i,f),n===0&&this._addTileFeatures(s.range(1-l/i,u,1,d),s.data,i,r,i,f),n===i-1&&this._addTileFeatures(s.range(0,u,l/i,d),s.data,-1,r,i,f),f.features.length?f:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?i+l.point_count<=s?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_createTree(e){for(var n=new Vu(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(var a of e){var l=a*this.stride,u=n[l+Gt]>1,d=void 0,f=void 0,p=void 0;if(u)d=pm(n,l,this.clusterProps),f=n[l],p=n[l+1];else{var y=this.points[n[l+Jt]];d=y.properties;var[v,b]=y.geometry.coordinates;f=Li(v),p=_i(b)}var _={type:1,geometry:[[Math.round(this.options.extent*(f*i-r)),Math.round(this.options.extent*(p*i-s))]],tags:d},m=void 0;u||this.options.generateId?m=n[l+Jt]:m=this.points[n[l+Jt]].id,m!==void 0&&(_.id=m),o.features.push(_)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:o}=this.options,a=r/(s*Math.pow(2,n)),l=e.data,u=[],d=this.stride,f=0;f<l.length;f+=d)if(!(l[f+bn]<=n)){l[f+bn]=n;var p=l[f],y=l[f+1],v=e.within(l[f],l[f+1],a),b=l[f+Gt],_=b;for(var m of v){var g=m*d;l[g+bn]>n&&(_+=l[g+Gt])}if(_>b&&_>=o){var w=p*b,x=y*b,L=void 0,k=-1,S=((f/d|0)<<5)+(n+1)+this.points.length;for(var N of v){var C=N*d;if(!(l[C+bn]<=n)){l[C+bn]=n;var T=l[C+Gt];w+=l[C]*T,x+=l[C+1]*T,l[C+Oa]=S,i&&(L||(L=this._map(l,f,!0),k=this.clusterProps.length,this.clusterProps.push(L)),i(L,this._map(l,C)))}}l[f+Oa]=S,u.push(w/_,x/_,1/0,S,-1,_),i&&u.push(k)}else{for(var M=0;M<d;M++)u.push(l[f+M]);if(_>1)for(var F of v){var A=F*d;if(!(l[A+bn]<=n)){l[A+bn]=n;for(var U=0;U<d;U++)u.push(l[A+U])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Gt]>1){var s=this.clusterProps[e[n+fm]];return r?Object.assign({},s):s}var i=this.points[e[n+Jt]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function vh(t,e,n){return{type:"Feature",id:t[e+Jt],properties:pm(t,e,n),geometry:{type:"Point",coordinates:[Ib(t[e]),Ab(t[e+1])]}}}function pm(t,e,n){var r=t[e+Gt],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+fm],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Jt],point_count:r,point_count_abbreviated:s})}function Li(t){return t/360+.5}function _i(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Ib(t){return(t-.5)*360}function Ab(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Db(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Xe{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Al{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Xe.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Xe.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Xe.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class $b{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Ub(n)}}var Ub=t=>{var e=t.map(n=>new Al({position:Xe.getPosition(n),markers:[n]}));return e};class zb extends $b{constructor(e){var{maxZoom:n,radius:r=60}=e,s=Db(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Rb(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!fh(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var o=Xe.getPosition(i),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!fh(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new Al({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new Al({markers:[i],position:Xe.getPosition(i)})}}class Bb{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class Fb{render(e,n,r){var{count:s,position:i}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),l="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Xe.isAdvancedMarkerAvailable(r)){var d=new DOMParser,f=d.parseFromString(a,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var p={map:r,position:i,zIndex:u,title:l,content:f};return new google.maps.marker.AdvancedMarkerElement(p)}var y={position:i,zIndex:u,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(y)}}function Wb(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Hu{constructor(){Wb(Hu,google.maps.OverlayView)}}var ds;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ds||(ds={}));var Vb=(t,e,n)=>{n.fitBounds(e.bounds)};class Hb extends Hu{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new zb(s),renderer:o=new Fb,onClusterClick:a=Vb}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Xe.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ds.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||Xe.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>Xe.setMap(l,null)))}google.maps.event.trigger(this,ds.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Xe.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Bb(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Xe.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,ds.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Xe.setMap(r.marker,n)})}}function yh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gb(t){var e=H1(),[n,r]=c.useState(null);return c.useEffect(()=>{if(e&&n===null){var s=new Hb(wh(wh({},t),{},{map:e}));r(s)}},[e]),n}function qb(t){var{children:e,options:n}=t,r=Gb(n);return r!==null?e(r):null}c.memo(qb);var xh={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},bh={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function Kb(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:d,onLoad:f,onUnmount:p}=t,y=c.useContext(Y),[v,b]=c.useState(null),[_,m]=c.useState(null),[g,w]=c.useState(null),[x,L]=c.useState(null),[k,S]=c.useState(null),[N,C]=c.useState(null),T=c.useRef(null);return c.useEffect(()=>{v!==null&&(v.close(),n?v.open(y,n):v.getPosition()&&v.open(y))},[y,v,n]),c.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),c.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),c.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),c.useEffect(()=>{v&&o&&(_!==null&&google.maps.event.removeListener(_),m(google.maps.event.addListener(v,"closeclick",o)))},[o]),c.useEffect(()=>{v&&a&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(v,"domready",a)))},[a]),c.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(v,"content_changed",l)))},[l]),c.useEffect(()=>{v&&u&&(k!==null&&google.maps.event.removeListener(k),S(google.maps.event.addListener(v,"position_changed",u)))},[u]),c.useEffect(()=>{v&&d&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(v,"zindex_changed",d)))},[d]),c.useEffect(()=>{var M=new google.maps.InfoWindow(r);return b(M),T.current=document.createElement("div"),o&&m(google.maps.event.addListener(M,"closeclick",o)),a&&w(google.maps.event.addListener(M,"domready",a)),l&&L(google.maps.event.addListener(M,"content_changed",l)),u&&S(google.maps.event.addListener(M,"position_changed",u)),d&&C(google.maps.event.addListener(M,"zindex_changed",d)),M.setContent(T.current),s&&M.setPosition(s),i&&M.setZIndex(i),n?M.open(y,n):M.getPosition()?M.open(y):ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(M),()=>{_&&google.maps.event.removeListener(_),x&&google.maps.event.removeListener(x),g&&google.maps.event.removeListener(g),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),p&&p(M),M.close()}},[]),T.current?Un.createPortal(c.Children.only(e),T.current):null}c.memo(Kb);class gm extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"containerElement",null),O(this,"state",{infoWindow:null}),O(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),O(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:bh,eventMap:xh,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:bh,eventMap:xh,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Un.createPortal(c.Children.only(this.props.children),this.containerElement):null}}O(gm,"contextType",Y);function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _h={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Sh={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},Zb={};function Jb(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:y,onRightClick:v,onClick:b,onDrag:_,onLoad:m,onUnmount:g}=t,w=c.useContext(Y),[x,L]=c.useState(null),[k,S]=c.useState(null),[N,C]=c.useState(null),[T,M]=c.useState(null),[F,A]=c.useState(null),[U,H]=c.useState(null),[J,K]=c.useState(null),[R,z]=c.useState(null),[B,E]=c.useState(null),[I,P]=c.useState(null),[$,j]=c.useState(null),[W,Z]=c.useState(null);return c.useEffect(()=>{x!==null&&x.setMap(w)},[w]),c.useEffect(()=>{typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),c.useEffect(()=>{typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),c.useEffect(()=>{typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),c.useEffect(()=>{typeof s<"u"&&x!==null&&x.setVisible(s)},[x,s]),c.useEffect(()=>{typeof i<"u"&&x!==null&&x.setPath(i)},[x,i]),c.useEffect(()=>{x&&o&&(k!==null&&google.maps.event.removeListener(k),S(google.maps.event.addListener(x,"dblclick",o)))},[o]),c.useEffect(()=>{x&&a&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(x,"dragend",a)))},[a]),c.useEffect(()=>{x&&l&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(x,"dragstart",l)))},[l]),c.useEffect(()=>{x&&u&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(x,"mousedown",u)))},[u]),c.useEffect(()=>{x&&d&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(x,"mousemove",d)))},[d]),c.useEffect(()=>{x&&f&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(x,"mouseout",f)))},[f]),c.useEffect(()=>{x&&p&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(x,"mouseover",p)))},[p]),c.useEffect(()=>{x&&y&&(B!==null&&google.maps.event.removeListener(B),E(google.maps.event.addListener(x,"mouseup",y)))},[y]),c.useEffect(()=>{x&&v&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(x,"rightclick",v)))},[v]),c.useEffect(()=>{x&&b&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(x,"click",b)))},[b]),c.useEffect(()=>{x&&_&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(x,"drag",_)))},[_]),c.useEffect(()=>{var G=new google.maps.Polyline(go(go({},e||Zb),{},{map:w}));return i&&G.setPath(i),typeof s<"u"&&G.setVisible(s),typeof r<"u"&&G.setEditable(r),typeof n<"u"&&G.setDraggable(n),o&&S(google.maps.event.addListener(G,"dblclick",o)),a&&C(google.maps.event.addListener(G,"dragend",a)),l&&M(google.maps.event.addListener(G,"dragstart",l)),u&&A(google.maps.event.addListener(G,"mousedown",u)),d&&H(google.maps.event.addListener(G,"mousemove",d)),f&&K(google.maps.event.addListener(G,"mouseout",f)),p&&z(google.maps.event.addListener(G,"mouseover",p)),y&&E(google.maps.event.addListener(G,"mouseup",y)),v&&P(google.maps.event.addListener(G,"rightclick",v)),b&&j(google.maps.event.addListener(G,"click",b)),_&&Z(google.maps.event.addListener(G,"drag",_)),L(G),m&&m(G),()=>{k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),g&&g(G),G.setMap(null)}},[]),null}c.memo(Jb);class Qb extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{polyline:null}),O(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(go(go({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Sh,eventMap:_h,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Sh,eventMap:_h,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ne(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}O(Qb,"contextType",Y);function kh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ch={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jh={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function Yb(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:p,onMouseOver:y,onMouseUp:v,onRightClick:b,onClick:_,onDrag:m,onLoad:g,onUnmount:w,onEdit:x}=t,L=c.useContext(Y),[k,S]=c.useState(null),[N,C]=c.useState(null),[T,M]=c.useState(null),[F,A]=c.useState(null),[U,H]=c.useState(null),[J,K]=c.useState(null),[R,z]=c.useState(null),[B,E]=c.useState(null),[I,P]=c.useState(null),[$,j]=c.useState(null),[W,Z]=c.useState(null),[G,se]=c.useState(null);return c.useEffect(()=>{k!==null&&k.setMap(L)},[L]),c.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),c.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),c.useEffect(()=>{typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),c.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),c.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),c.useEffect(()=>{typeof o<"u"&&k!==null&&k.setPaths(o)},[k,o]),c.useEffect(()=>{k&&typeof a=="function"&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(k,"dblclick",a)))},[a]),c.useEffect(()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",()=>{x==null||x(k)}),google.maps.event.addListener(k.getPath(),"set_at",()=>{x==null||x(k)}),google.maps.event.addListener(k.getPath(),"remove_at",()=>{x==null||x(k)}))},[k,x]),c.useEffect(()=>{k&&typeof l=="function"&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(k,"dragend",l)))},[l]),c.useEffect(()=>{k&&typeof u=="function"&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(k,"dragstart",u)))},[u]),c.useEffect(()=>{k&&typeof d=="function"&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(k,"mousedown",d)))},[d]),c.useEffect(()=>{k&&typeof f=="function"&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(k,"mousemove",f)))},[f]),c.useEffect(()=>{k&&typeof p=="function"&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(k,"mouseout",p)))},[p]),c.useEffect(()=>{k&&typeof y=="function"&&(B!==null&&google.maps.event.removeListener(B),E(google.maps.event.addListener(k,"mouseover",y)))},[y]),c.useEffect(()=>{k&&typeof v=="function"&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(k,"mouseup",v)))},[v]),c.useEffect(()=>{k&&typeof b=="function"&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(k,"rightclick",b)))},[b]),c.useEffect(()=>{k&&typeof _=="function"&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(k,"click",_)))},[_]),c.useEffect(()=>{k&&typeof m=="function"&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(k,"drag",m)))},[m]),c.useEffect(()=>{var q=new google.maps.Polygon(Eh(Eh({},e),{},{map:L}));return i&&q.setPath(i),o&&q.setPaths(o),typeof s<"u"&&q.setVisible(s),typeof r<"u"&&q.setEditable(r),typeof n<"u"&&q.setDraggable(n),a&&C(google.maps.event.addListener(q,"dblclick",a)),l&&M(google.maps.event.addListener(q,"dragend",l)),u&&A(google.maps.event.addListener(q,"dragstart",u)),d&&H(google.maps.event.addListener(q,"mousedown",d)),f&&K(google.maps.event.addListener(q,"mousemove",f)),p&&z(google.maps.event.addListener(q,"mouseout",p)),y&&E(google.maps.event.addListener(q,"mouseover",y)),v&&P(google.maps.event.addListener(q,"mouseup",v)),b&&j(google.maps.event.addListener(q,"rightclick",b)),_&&Z(google.maps.event.addListener(q,"click",_)),m&&se(google.maps.event.addListener(q,"drag",m)),S(q),g&&g(q),()=>{N!==null&&google.maps.event.removeListener(N),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),W!==null&&google.maps.event.removeListener(W),w&&w(q),q.setMap(null)}},[]),null}c.memo(Yb);class Xb extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=te({updaterMap:jh,eventMap:Ch,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:jh,eventMap:Ch,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ne(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}O(Xb,"contextType",Y);function Ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ph(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ph(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Oh={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mh={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function eL(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:y,onRightClick:v,onClick:b,onDrag:_,onBoundsChanged:m,onLoad:g,onUnmount:w}=t,x=c.useContext(Y),[L,k]=c.useState(null),[S,N]=c.useState(null),[C,T]=c.useState(null),[M,F]=c.useState(null),[A,U]=c.useState(null),[H,J]=c.useState(null),[K,R]=c.useState(null),[z,B]=c.useState(null),[E,I]=c.useState(null),[P,$]=c.useState(null),[j,W]=c.useState(null),[Z,G]=c.useState(null),[se,q]=c.useState(null);return c.useEffect(()=>{L!==null&&L.setMap(x)},[x]),c.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),c.useEffect(()=>{typeof r<"u"&&L!==null&&L.setDraggable(r)},[L,r]),c.useEffect(()=>{typeof s<"u"&&L!==null&&L.setEditable(s)},[L,s]),c.useEffect(()=>{typeof i<"u"&&L!==null&&L.setVisible(i)},[L,i]),c.useEffect(()=>{typeof n<"u"&&L!==null&&L.setBounds(n)},[L,n]),c.useEffect(()=>{L&&o&&(S!==null&&google.maps.event.removeListener(S),N(google.maps.event.addListener(L,"dblclick",o)))},[o]),c.useEffect(()=>{L&&a&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(L,"dragend",a)))},[a]),c.useEffect(()=>{L&&l&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(L,"dragstart",l)))},[l]),c.useEffect(()=>{L&&u&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(L,"mousedown",u)))},[u]),c.useEffect(()=>{L&&d&&(H!==null&&google.maps.event.removeListener(H),J(google.maps.event.addListener(L,"mousemove",d)))},[d]),c.useEffect(()=>{L&&f&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(L,"mouseout",f)))},[f]),c.useEffect(()=>{L&&p&&(z!==null&&google.maps.event.removeListener(z),B(google.maps.event.addListener(L,"mouseover",p)))},[p]),c.useEffect(()=>{L&&y&&(E!==null&&google.maps.event.removeListener(E),I(google.maps.event.addListener(L,"mouseup",y)))},[y]),c.useEffect(()=>{L&&v&&(P!==null&&google.maps.event.removeListener(P),$(google.maps.event.addListener(L,"rightclick",v)))},[v]),c.useEffect(()=>{L&&b&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(L,"click",b)))},[b]),c.useEffect(()=>{L&&_&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(L,"drag",_)))},[_]),c.useEffect(()=>{L&&m&&(se!==null&&google.maps.event.removeListener(se),q(google.maps.event.addListener(L,"bounds_changed",m)))},[m]),c.useEffect(()=>{var ee=new google.maps.Rectangle(mo(mo({},e),{},{map:x}));return typeof i<"u"&&ee.setVisible(i),typeof s<"u"&&ee.setEditable(s),typeof r<"u"&&ee.setDraggable(r),typeof n<"u"&&ee.setBounds(n),o&&N(google.maps.event.addListener(ee,"dblclick",o)),a&&T(google.maps.event.addListener(ee,"dragend",a)),l&&F(google.maps.event.addListener(ee,"dragstart",l)),u&&U(google.maps.event.addListener(ee,"mousedown",u)),d&&J(google.maps.event.addListener(ee,"mousemove",d)),f&&R(google.maps.event.addListener(ee,"mouseout",f)),p&&B(google.maps.event.addListener(ee,"mouseover",p)),y&&I(google.maps.event.addListener(ee,"mouseup",y)),v&&$(google.maps.event.addListener(ee,"rightclick",v)),b&&W(google.maps.event.addListener(ee,"click",b)),_&&G(google.maps.event.addListener(ee,"drag",_)),m&&q(google.maps.event.addListener(ee,"bounds_changed",m)),k(ee),g&&g(ee),()=>{S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),H!==null&&google.maps.event.removeListener(H),K!==null&&google.maps.event.removeListener(K),z!==null&&google.maps.event.removeListener(z),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),j!==null&&google.maps.event.removeListener(j),Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),w&&w(ee),ee.setMap(null)}},[]),null}c.memo(eL);class tL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{rectangle:null}),O(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(mo(mo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Mh,eventMap:Oh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Mh,eventMap:Oh,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ne(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}O(tL,"contextType",Y);function Th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Th(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Nh={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Rh={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},nL={};function rL(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:p,onMouseOver:y,onMouseUp:v,onRightClick:b,onClick:_,onDrag:m,onCenterChanged:g,onRadiusChanged:w,onLoad:x,onUnmount:L}=t,k=c.useContext(Y),[S,N]=c.useState(null),[C,T]=c.useState(null),[M,F]=c.useState(null),[A,U]=c.useState(null),[H,J]=c.useState(null),[K,R]=c.useState(null),[z,B]=c.useState(null),[E,I]=c.useState(null),[P,$]=c.useState(null),[j,W]=c.useState(null),[Z,G]=c.useState(null),[se,q]=c.useState(null),[ee,me]=c.useState(null),[Ue,Hn]=c.useState(null);return c.useEffect(()=>{S!==null&&S.setMap(k)},[k]),c.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),c.useEffect(()=>{typeof s<"u"&&S!==null&&S.setDraggable(s)},[S,s]),c.useEffect(()=>{typeof i<"u"&&S!==null&&S.setEditable(i)},[S,i]),c.useEffect(()=>{typeof o<"u"&&S!==null&&S.setVisible(o)},[S,o]),c.useEffect(()=>{typeof r=="number"&&S!==null&&S.setRadius(r)},[S,r]),c.useEffect(()=>{typeof n<"u"&&S!==null&&S.setCenter(n)},[S,n]),c.useEffect(()=>{S&&a&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(S,"dblclick",a)))},[a]),c.useEffect(()=>{S&&l&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(S,"dragend",l)))},[l]),c.useEffect(()=>{S&&u&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(S,"dragstart",u)))},[u]),c.useEffect(()=>{S&&d&&(H!==null&&google.maps.event.removeListener(H),J(google.maps.event.addListener(S,"mousedown",d)))},[d]),c.useEffect(()=>{S&&f&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(S,"mousemove",f)))},[f]),c.useEffect(()=>{S&&p&&(z!==null&&google.maps.event.removeListener(z),B(google.maps.event.addListener(S,"mouseout",p)))},[p]),c.useEffect(()=>{S&&y&&(E!==null&&google.maps.event.removeListener(E),I(google.maps.event.addListener(S,"mouseover",y)))},[y]),c.useEffect(()=>{S&&v&&(P!==null&&google.maps.event.removeListener(P),$(google.maps.event.addListener(S,"mouseup",v)))},[v]),c.useEffect(()=>{S&&b&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(S,"rightclick",b)))},[b]),c.useEffect(()=>{S&&_&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(S,"click",_)))},[_]),c.useEffect(()=>{S&&m&&(se!==null&&google.maps.event.removeListener(se),q(google.maps.event.addListener(S,"drag",m)))},[m]),c.useEffect(()=>{S&&g&&(ee!==null&&google.maps.event.removeListener(ee),me(google.maps.event.addListener(S,"center_changed",g)))},[_]),c.useEffect(()=>{S&&w&&(Ue!==null&&google.maps.event.removeListener(Ue),Hn(google.maps.event.addListener(S,"radius_changed",w)))},[w]),c.useEffect(()=>{var le=new google.maps.Circle(vo(vo({},e||nL),{},{map:k}));return typeof r=="number"&&le.setRadius(r),typeof n<"u"&&le.setCenter(n),typeof r=="number"&&le.setRadius(r),typeof o<"u"&&le.setVisible(o),typeof i<"u"&&le.setEditable(i),typeof s<"u"&&le.setDraggable(s),a&&T(google.maps.event.addListener(le,"dblclick",a)),l&&F(google.maps.event.addListener(le,"dragend",l)),u&&U(google.maps.event.addListener(le,"dragstart",u)),d&&J(google.maps.event.addListener(le,"mousedown",d)),f&&R(google.maps.event.addListener(le,"mousemove",f)),p&&B(google.maps.event.addListener(le,"mouseout",p)),y&&I(google.maps.event.addListener(le,"mouseover",y)),v&&$(google.maps.event.addListener(le,"mouseup",v)),b&&W(google.maps.event.addListener(le,"rightclick",b)),_&&G(google.maps.event.addListener(le,"click",_)),m&&q(google.maps.event.addListener(le,"drag",m)),g&&me(google.maps.event.addListener(le,"center_changed",g)),w&&Hn(google.maps.event.addListener(le,"radius_changed",w)),N(le),x&&x(le),()=>{C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),H!==null&&google.maps.event.removeListener(H),K!==null&&google.maps.event.removeListener(K),z!==null&&google.maps.event.removeListener(z),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),j!==null&&google.maps.event.removeListener(j),Z!==null&&google.maps.event.removeListener(Z),ee!==null&&google.maps.event.removeListener(ee),Ue!==null&&google.maps.event.removeListener(Ue),L&&L(le),le.setMap(null)}},[]),null}c.memo(rL);class sL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{circle:null}),O(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(vo(vo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Rh,eventMap:Nh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Rh,eventMap:Nh,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ne(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}O(sL,"contextType",Y);function Ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ih(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ah={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Dh={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function iL(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:u,onAddFeature:d,onRemoveFeature:f,onRemoveProperty:p,onSetGeometry:y,onSetProperty:v,onLoad:b,onUnmount:_}=t,m=c.useContext(Y),[g,w]=c.useState(null),[x,L]=c.useState(null),[k,S]=c.useState(null),[N,C]=c.useState(null),[T,M]=c.useState(null),[F,A]=c.useState(null),[U,H]=c.useState(null),[J,K]=c.useState(null),[R,z]=c.useState(null),[B,E]=c.useState(null),[I,P]=c.useState(null),[$,j]=c.useState(null),[W,Z]=c.useState(null),[G,se]=c.useState(null);return c.useEffect(()=>{g!==null&&g.setMap(m)},[m]),c.useEffect(()=>{g&&r&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(g,"dblclick",r)))},[r]),c.useEffect(()=>{g&&s&&(k!==null&&google.maps.event.removeListener(k),S(google.maps.event.addListener(g,"mousedown",s)))},[s]),c.useEffect(()=>{g&&i&&(N!==null&&google.maps.event.removeListener(N),C(google.maps.event.addListener(g,"mousemove",i)))},[i]),c.useEffect(()=>{g&&o&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(g,"mouseout",o)))},[o]),c.useEffect(()=>{g&&a&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(g,"mouseover",a)))},[a]),c.useEffect(()=>{g&&l&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(g,"mouseup",l)))},[l]),c.useEffect(()=>{g&&u&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(g,"rightclick",u)))},[u]),c.useEffect(()=>{g&&n&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(g,"click",n)))},[n]),c.useEffect(()=>{g&&d&&(B!==null&&google.maps.event.removeListener(B),E(google.maps.event.addListener(g,"addfeature",d)))},[d]),c.useEffect(()=>{g&&f&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(g,"removefeature",f)))},[f]),c.useEffect(()=>{g&&p&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(g,"removeproperty",p)))},[p]),c.useEffect(()=>{g&&y&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(g,"setgeometry",y)))},[y]),c.useEffect(()=>{g&&v&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(g,"setproperty",v)))},[v]),c.useEffect(()=>{if(m!==null){var q=new google.maps.Data(yo(yo({},e),{},{map:m}));r&&L(google.maps.event.addListener(q,"dblclick",r)),s&&S(google.maps.event.addListener(q,"mousedown",s)),i&&C(google.maps.event.addListener(q,"mousemove",i)),o&&M(google.maps.event.addListener(q,"mouseout",o)),a&&A(google.maps.event.addListener(q,"mouseover",a)),l&&H(google.maps.event.addListener(q,"mouseup",l)),u&&K(google.maps.event.addListener(q,"rightclick",u)),n&&z(google.maps.event.addListener(q,"click",n)),d&&E(google.maps.event.addListener(q,"addfeature",d)),f&&P(google.maps.event.addListener(q,"removefeature",f)),p&&j(google.maps.event.addListener(q,"removeproperty",p)),y&&Z(google.maps.event.addListener(q,"setgeometry",y)),v&&se(google.maps.event.addListener(q,"setproperty",v)),w(q),b&&b(q)}return()=>{g&&(x!==null&&google.maps.event.removeListener(x),k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),_&&_(g),g.setMap(null))}},[]),null}c.memo(iL);class oL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{data:null}),O(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(yo(yo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Dh,eventMap:Ah,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Dh,eventMap:Ah,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ne(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}O(oL,"contextType",Y);function $h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$h(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zh={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Bh={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class aL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{kmlLayer:null}),O(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Uh(Uh({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Bh,eventMap:zh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Bh,eventMap:zh,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ne(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}O(aL,"contextType",Y);function mm(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function lL(t,e){return new e(t.lat,t.lng)}function uL(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function cL(t,e,n){return t instanceof e?t:n(t,e)}function dL(t,e,n){return t instanceof e?t:n(t,e)}function hL(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function fL(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function vm(t,e,n,r){return n!==void 0?hL(t,e,dL(n,google.maps.LatLngBounds,uL)):fL(t,e,cL(r,google.maps.LatLng,lL))}function pL(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mL(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(a,l,u,d){super(),this.container=a,this.pane=l,this.position=u,this.bounds=d}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=gL({},this.container?mm(this.container,s):{x:0,y:0}),u=vm(a,l,this.bounds,this.position);for(var[d,f]of Object.entries(u))this.container.style[d]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vh(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Hh(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function yL(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:o,getPixelPositionOffset:a,children:l}=t,u=c.useContext(Y),d=c.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),f=c.useMemo(()=>mL(d,r,e,n,a),[d,r,e,n]);return c.useEffect(()=>(i==null||i(f),f==null||f.setMap(u),()=>{o==null||o(f),f==null||f.setMap(null)}),[u,f]),c.useEffect(()=>{d.style.zIndex="".concat(s)},[s,d]),Un.createPortal(l,d)}c.memo(yL);class Tr extends c.PureComponent{constructor(e){super(e),O(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),O(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();ke(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),O(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),O(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=vL({x:0,y:0},this.containerRef.current?mm(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=vm(r,s,this.props.bounds,this.props.position);if(!pL(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,u;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(a=i.left)!==null&&a!==void 0?a:0,width:(l=i.width)!==null&&l!==void 0?l:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),O(this,"draw",()=>{this.onPositionElement()}),O(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=c.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Vh(e.position),r=Vh(this.props.position),s=Hh(e.bounds),i=Hh(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Un.createPortal(h.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:c.Children.only(this.props.children)}),e):null}}O(Tr,"FLOAT_PANE","floatPane");O(Tr,"MAP_PANE","mapPane");O(Tr,"MARKER_LAYER","markerLayer");O(Tr,"OVERLAY_LAYER","overlayLayer");O(Tr,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");O(Tr,"contextType",Y);function wL(){}function Gh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Kh={onDblClick:"dblclick",onClick:"click"},Zh={opacity(t,e){t.setOpacity(e)}};function xL(t){var{url:e,bounds:n,options:r,visible:s}=t,i=c.useContext(Y),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=c.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return c.useEffect(()=>{a!==null&&a.setMap(i)},[i]),c.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(i))},[a,e]),c.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),c.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(i))},[a,n]),null}c.memo(xL);class ym extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{groundOverlay:null}),O(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){ke(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,qh(qh({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Zh,eventMap:Kh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Zh,eventMap:Kh,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}O(ym,"defaultProps",{onLoad:wL});O(ym,"contextType",Y);function Jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jh(Object(n),!0).forEach(function(r){O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Qh={},Yh={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function bL(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=c.useContext(Y),[o,a]=c.useState(null);return c.useEffect(()=>{google.maps.visualization||ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),c.useEffect(()=>{ke(!!e,"data property is required in HeatmapLayer %s",e)},[e]),c.useEffect(()=>{o!==null&&o.setMap(i)},[i]),c.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),c.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(wo(wo({},s),{},{data:e,map:i}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}c.memo(bL);class LL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{heatmapLayer:null}),O(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ke(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(wo(wo({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=te({updaterMap:Yh,eventMap:Qh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Yh,eventMap:Qh,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ne(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}O(LL,"contextType",Y);var Xh={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},ef={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class _L extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{streetViewPanorama:null}),O(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=te({updaterMap:ef,eventMap:Xh,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:ef,eventMap:Xh,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ne(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}O(_L,"contextType",Y);class SL extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{streetViewService:null}),O(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}O(SL,"contextType",Y);class kL extends c.PureComponent{constructor(){super(...arguments),O(this,"state",{directionsService:null}),O(this,"setDirectionsServiceCallback",()=>{this.state.directionsService!==null&&this.props.onLoad&&this.props.onLoad(this.state.directionsService)})}componentDidMount(){ke(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState(function(){return{directionsService:e}},this.setDirectionsServiceCallback)}componentDidUpdate(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)}componentWillUnmount(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)}render(){return null}}var tf={onDirectionsChanged:"directions_changed"},nf={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class qo extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"state",{directionsRenderer:null}),O(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=te({updaterMap:nf,eventMap:tf,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:nf,eventMap:tf,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ne(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}O(qo,"contextType",Y);var rf={onPlacesChanged:"places_changed"},sf={bounds(t,e){t.setBounds(e)}};class EL extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"containerElement",c.createRef()),O(this,"state",{searchBox:null}),O(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=te({updaterMap:sf,eventMap:rf,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:sf,eventMap:rf,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ne(this.registeredEvents))}render(){return h.jsx("div",{ref:this.containerElement,children:c.Children.only(this.props.children)})}}O(EL,"contextType",Y);var of={onPlaceChanged:"place_changed"},af={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class wm extends c.PureComponent{constructor(){super(...arguments),O(this,"registeredEvents",[]),O(this,"containerElement",c.createRef()),O(this,"state",{autocomplete:null}),O(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=te({updaterMap:af,eventMap:of,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:af,eventMap:of,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ne(this.registeredEvents)}render(){return h.jsx("div",{ref:this.containerElement,className:this.props.className,children:c.Children.only(this.props.children)})}}O(wm,"defaultProps",{className:""});O(wm,"contextType",Y);const CL=["places","geometry"],Gu={disableDefaultUI:!0,zoomControl:!0,scrollwheel:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[]},jL=13,Ko=Pe.memo(({children:t})=>{const[e,n]=c.useState(!1),[r,s]=c.useState(null);c.useEffect(()=>{console.log("[GoogleMapsWrapper] Current state:",{isLoaded:e,hasLoadError:!!r,hasGoogleObject:!!window.google,apiKey:!0})},[e,r]);const i=()=>{console.log("[GoogleMapsWrapper] Script loaded successfully"),n(!0)},o=a=>{console.error("[GoogleMapsWrapper] Error loading Google Maps:",a),s(a),n(!1)};return r?h.jsxs("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:[h.jsx("h3",{className:"font-bold mb-2",children:"Error Loading Google Maps"}),h.jsx("p",{children:r.message}),h.jsx("p",{className:"text-sm mt-2",children:"Check console for more details"})]}):h.jsx(um,{googleMapsApiKey:"AIzaSyBCcSTRENwCdGDOArohacULk0JXJWBJAtw",libraries:CL,onLoad:i,onError:o,children:e?t:h.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 rounded-lg",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("p",{className:"text-gray-600",children:"Loading Google Maps..."})]})})})});Ko.displayName="GoogleMapsWrapper";function Dt(t,e){const n=[];if(!t)return n.push({field:"latLng",message:"LatLng object is missing",path:e}),n;typeof t.lat!="function"&&n.push({field:"lat",message:"lat() method is missing",path:e}),typeof t.lng!="function"&&n.push({field:"lng",message:"lng() method is missing",path:e});try{const r=t.lat(),s=t.lng();(r<-90||r>90)&&n.push({field:"lat",message:"Latitude must be between -90 and 90",path:e}),(s<-180||s>180)&&n.push({field:"lng",message:"Longitude must be between -180 and 180",path:e})}catch{n.push({field:"latLng",message:"Error accessing lat/lng values",path:e})}return n}function PL(t,e){const n=[];if(!t)return n.push({field:"bounds",message:"Bounds object is missing",path:e}),n;try{const r=t.getNorthEast(),s=t.getSouthWest();n.push(...Dt(r,`${e}.northEast`)),n.push(...Dt(s,`${e}.southWest`));const i=r.lat(),o=r.lng(),a=s.lat(),l=s.lng();i<a&&n.push({field:"bounds",message:"Northeast latitude must be greater than southwest latitude",path:e}),o<l&&Math.abs(o-l)<180&&n.push({field:"bounds",message:"Invalid longitude span",path:e})}catch{n.push({field:"bounds",message:"Error accessing bounds values",path:e})}return n}function OL(t,e){const n=[];return t.instructions||n.push({field:"instructions",message:"Step instructions are missing",path:e}),t.travel_mode||n.push({field:"travel_mode",message:"Travel mode is missing",path:e}),n.push(...Dt(t.start_location,`${e}.start_location`)),n.push(...Dt(t.end_location,`${e}.end_location`)),t.path&&t.path.forEach((r,s)=>{n.push(...Dt(r,`${e}.path[${s}]`))}),n}function ML(t,e){const n=[];return t.start_address||n.push({field:"start_address",message:"Start address is missing",path:e}),t.end_address||n.push({field:"end_address",message:"End address is missing",path:e}),n.push(...Dt(t.start_location,`${e}.start_location`)),n.push(...Dt(t.end_location,`${e}.end_location`)),!t.steps||!t.steps.length?n.push({field:"steps",message:"Steps array is empty or missing",path:e}):t.steps.forEach((r,s)=>{n.push(...OL(r,`${e}.steps[${s}]`))}),t.via_waypoints&&t.via_waypoints.forEach((r,s)=>{n.push(...Dt(r,`${e}.via_waypoints[${s}]`))}),n}function TL(t,e){const n=[];return n.push(...PL(t.bounds,`${e}.bounds`)),!t.legs||!t.legs.length?n.push({field:"legs",message:"Route legs array is empty or missing",path:e}):t.legs.forEach((r,s)=>{n.push(...ML(r,`${e}.legs[${s}]`))}),(!t.overview_polyline||!t.overview_polyline.points)&&n.push({field:"overview_polyline",message:"Overview polyline is missing",path:e}),t.summary||n.push({field:"summary",message:"Route summary is missing",path:e}),t.overview_path&&t.overview_path.forEach((r,s)=>{n.push(...Dt(r,`${e}.overview_path[${s}]`))}),n}function xm(t){const e=[];return t?(!t.routes||!t.routes.length?e.push({field:"routes",message:"Routes array is empty or missing"}):t.routes.forEach((n,r)=>{e.push(...TL(n,`routes[${r}]`))}),(!t.geocoded_waypoints||!t.geocoded_waypoints.length)&&e.push({field:"geocoded_waypoints",message:"Geocoded waypoints array is empty or missing"}),{isValid:e.length===0,errors:e}):{isValid:!1,errors:[{field:"result",message:"Directions result is null or undefined"}]}}function bm(t){t.length!==0&&(console.group("Route Validation Errors"),t.forEach(e=>{console.error(`${e.path?`[${e.path}] `:""}${e.field}: ${e.message}`)}),console.groupEnd())}function NL(){const t=Bn(),e=Us(),{tourVariations:n=[],duration:r=0}=t.state,[s,i]=c.useState(n),[o,a]=c.useState(new Set),[l,u]=c.useState(null),[d,f]=c.useState({}),[p,y]=c.useState(null);c.useEffect(()=>{console.log("[TourOptions] Initial tour variations:",s),s.forEach((m,g)=>{s[g].response||(a(w=>{const x=new Set(w);return x.add(g),x}),f(w=>({...w,[g]:0})))})},[]);const v=c.useCallback((m,g,w)=>{if(console.log(`[TourOptions] Directions callback for tour ${w}:`,{status:g,hasResponse:!!m,requestCount:d[w]}),g==="OK"&&m){const x=m.routes[0];x.legs[0];const L=x.legs.reduce((S,N)=>{var C;return S+(((C=N.duration)==null?void 0:C.value)||0)},0),k=x.legs.reduce((S,N)=>{var C;return S+(((C=N.distance)==null?void 0:C.value)||0)},0);i(S=>{const N=[...S];return N[w]={...N[w],response:m,estimatedTime:Math.ceil(L/60),distance:`${(k/1e3).toFixed(1)} km`},N}),a(S=>{const N=new Set(S);return N.delete(w),N})}else console.error(`[TourOptions] Directions request failed for tour ${w}:`,g),d[w]<3?(console.log(`[TourOptions] Retrying request for tour ${w}`),f(x=>({...x,[w]:(x[w]||0)+1}))):(console.error(`[TourOptions] Failed to get directions for tour ${w} after multiple attempts`),a(x=>{const L=new Set(x);return L.delete(w),L}))},[d]),b=m=>{if(!s[m].response){console.error("Cannot select route without directions response");return}try{const g={...s[m],estimatedTime:s[m].estimatedTime,distance:s[m].distance,response:{routes:s[m].response.routes.map(x=>{var L,k;return{bounds:{getNorthEast:()=>({lat:()=>x.bounds.getNorthEast().lat(),lng:()=>x.bounds.getNorthEast().lng()}),getSouthWest:()=>({lat:()=>x.bounds.getSouthWest().lat(),lng:()=>x.bounds.getSouthWest().lng()})},legs:x.legs.map(S=>{var N,C,T,M,F;return{distance:{text:(N=S.distance)==null?void 0:N.text,value:(C=S.distance)==null?void 0:C.value},duration:{text:(T=S.duration)==null?void 0:T.text,value:(M=S.duration)==null?void 0:M.value},end_address:S.end_address,start_address:S.start_address,end_location:{lat:()=>S.end_location.lat(),lng:()=>S.end_location.lng()},start_location:{lat:()=>S.start_location.lat(),lng:()=>S.start_location.lng()},steps:S.steps.map(A=>{var U,H,J,K,R;return{distance:{text:(U=A.distance)==null?void 0:U.text,value:(H=A.distance)==null?void 0:H.value},duration:{text:(J=A.duration)==null?void 0:J.text,value:(K=A.duration)==null?void 0:K.value},instructions:A.instructions,path:(R=A.path)==null?void 0:R.map(z=>({lat:()=>z.lat(),lng:()=>z.lng()})),start_location:{lat:()=>A.start_location.lat(),lng:()=>A.start_location.lng()},end_location:{lat:()=>A.end_location.lat(),lng:()=>A.end_location.lng()},travel_mode:A.travel_mode}}),via_waypoints:(F=S.via_waypoints)==null?void 0:F.map(A=>({lat:()=>A.lat(),lng:()=>A.lng()}))}}),overview_path:(L=x.overview_path)==null?void 0:L.map(S=>({lat:()=>S.lat(),lng:()=>S.lng()})),warnings:x.warnings||[],waypoint_order:x.waypoint_order||[],overview_polyline:{points:((k=x.overview_polyline)==null?void 0:k.points)||""},summary:x.summary||"",copyrights:x.copyrights||""}}),request:s[m].response.request||null,geocoded_waypoints:s[m].response.geocoded_waypoints||[]}},w=xm(g.response);if(!w.isValid){bm(w.errors),y({title:"Invalid Route Data",message:"There was an error processing the route data. Please try again or choose a different route.",details:w.errors.map(x=>`${x.path?`[${x.path}] `:""}${x.field}: ${x.message}`).join(`
`)});return}e("/your-tour",{state:{selectedRoute:g,duration:r}})}catch(g){console.error("Error serializing route:",g),y({title:"Route Processing Error",message:"An unexpected error occurred while processing the route. Please try again.",details:g instanceof Error?g.message:String(g)})}},_=({variation:m,index:g})=>{if(!window.google||m.response||!o.has(g))return null;const w=m.locations.slice(1,-1).map(x=>({location:new window.google.maps.LatLng(x.coordinates.lat,x.coordinates.lng),stopover:!0}));return h.jsx(kL,{options:{destination:m.locations[m.locations.length-1].coordinates,origin:m.locations[0].coordinates,waypoints:w,travelMode:window.google.maps.TravelMode.WALKING,optimizeWaypoints:!0},callback:(x,L)=>v(x,L,g)})};return h.jsx(Ko,{children:h.jsxs("div",{className:"container mx-auto p-4",children:[p&&h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[h.jsx("h2",{className:"font-bold",children:p.title}),h.jsx("p",{className:"mb-2",children:p.message}),h.jsx("pre",{className:"text-sm",children:p.details})]}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:s.length>1?"Choose Your Tour":"Your Optimized Tour"}),s.length===1&&h.jsx("p",{className:"text-gray-600 mb-6",children:"We've created the best possible tour based on your selections, optimizing for both walking distance and variety."}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((m,g)=>h.jsx("div",{className:`
                bg-white rounded-lg shadow-lg overflow-hidden
                ${l===g?"ring-2 ring-blue-500":""}
              `,children:h.jsxs("div",{className:"p-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:m.name}),h.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-medium mb-2",children:"Stops:"}),h.jsx("ul",{className:"list-disc pl-5",children:m.locations.map((w,x)=>h.jsxs("li",{className:"text-sm text-gray-600",children:[w.title," by ",w.artist]},x))})]}),m.response&&h.jsxs("div",{className:"mb-4",children:[h.jsxs("p",{className:"text-sm text-gray-600",children:["Walking time: ",Math.round(m.estimatedTime||0)," minutes"]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Distance: ",m.distance]})]}),h.jsxs("div",{className:"h-48 bg-gray-100 mb-4 relative",children:[h.jsxs(Fu,{mapContainerStyle:{width:"100%",height:"100%"},center:m.locations[0].coordinates,zoom:13,options:Gu,children:[!m.response&&m.locations.map((w,x)=>h.jsx(Rl,{position:w.coordinates,label:(x+1).toString()},x)),m.response&&h.jsx(qo,{options:{directions:m.response,suppressMarkers:!1}}),h.jsx(_,{variation:m,index:g})]}),o.has(g)&&h.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("p",{className:"text-sm mt-2",children:d[g]>0?`Retrying... (Attempt ${d[g]+1}/3)`:"Calculating route..."})]})})]}),h.jsx("button",{onClick:()=>b(g),disabled:!m.response||o.has(g),className:`
                    w-full py-2 px-4 rounded-lg font-medium
                    ${!m.response||o.has(g)?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:o.has(g)?d[g]>0?`Retrying... (${d[g]}/3)`:"Calculating Route...":m.response?"Select This Tour":"Loading..."})]})},g))})]})})}function RL(){const t=Bn(),e=Us(),{selectedRoute:n,duration:r}=t.state||{},s=()=>{e(-1)};return n?h.jsx(Ko,{children:h.jsxs("div",{className:"container mx-auto p-4",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:n.name}),h.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tour Details"}),h.jsxs("ul",{className:"list-disc pl-5",children:[h.jsxs("li",{children:["Duration: ",r," minutes"]}),h.jsxs("li",{children:["Stops: ",n.locations.length]}),n.estimatedTime&&h.jsxs("li",{children:["Walking Time: ",Math.round(n.estimatedTime)," minutes"]}),n.distance&&h.jsxs("li",{children:["Total Distance: ",n.distance]})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stops"}),h.jsx("ul",{className:"list-disc pl-5",children:n.locations.map((i,o)=>h.jsxs("li",{className:"mb-2",children:[h.jsxs("span",{className:"font-medium",children:[o+1,"."]})," ",i.title," by ",i.artist]},o))})]}),h.jsx("div",{className:"h-[400px] w-full mb-4 rounded-lg overflow-hidden shadow-lg",children:h.jsx(Fu,{mapContainerStyle:{width:"100%",height:"100%"},center:n.locations[0].coordinates,zoom:jL,options:Gu,children:n.response&&h.jsx(qo,{options:{directions:n.response,suppressMarkers:!1}})})}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Start Tour"}),h.jsx("button",{onClick:s,className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors font-medium",children:"Back to Tour Options"})]})]})}):h.jsxs("div",{className:"container mx-auto p-4",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Route Selected"}),h.jsx("p",{children:"Please go back and select a tour route first."}),h.jsx("button",{onClick:s,className:"mt-4 bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Back to Tour Options"})]})}const IL=({artwork:t,onClose:e})=>{const[n,r]=c.useState(!1),[s,i]=c.useState(null);c.useEffect(()=>{var l;"xr"in navigator&&((l=navigator.xr)==null||l.isSessionSupported("immersive-ar").then(u=>r(u)).catch(u=>console.error("Error checking WebXR support:",u)))},[]);const o=async()=>{if(navigator.xr)try{const l=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test","dom-overlay"],domOverlay:{root:document.getElementById("ar-overlay")}});i(l),l.addEventListener("end",()=>{i(null)})}catch(l){console.error("Failed to start AR session:",l),a()}},a=()=>{const l=document.createElement("script");return l.src="https://unpkg.com/@google/model-viewer",l.type="module",document.body.appendChild(l),h.jsx("model-viewer",{src:t.modelUrl,"ios-src":t.iosQuickLook,poster:t.imageUrl,ar:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,"auto-rotate":!0,"ar-scale":"fixed"})};return h.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center",children:h.jsxs("div",{className:"relative bg-white rounded-lg p-4 w-full max-w-2xl",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"h-[500px]",id:"ar-overlay",children:n?h.jsx("button",{onClick:o,className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Start AR Experience"}):a()})]})})};function Dl(t){return{lat:t.lat(),lng:t.lng()}}function kt(t,e){return new google.maps.LatLng(t,e)}function AL(t){return new google.maps.LatLngBounds(kt(t.southwest.lat,t.southwest.lng),kt(t.northeast.lat,t.northeast.lng))}function DL(t){return t?Dl(t):null}function $L(t,e){return google.maps.geometry.spherical.computeDistanceBetween(t,e)}function lf(t,e,n){return $L(t,e)<n}function xo(t){return t&&typeof t.lat=="function"&&typeof t.lng=="function"}function UL(t){return t&&typeof t.getNorthEast=="function"&&typeof t.getSouthWest=="function"&&xo(t.getNorthEast())&&xo(t.getSouthWest())}function zL(t){return t&&Array.isArray(t.routes)&&t.routes.every(e=>e.bounds&&UL(e.bounds)&&Array.isArray(e.legs)&&e.legs.every(n=>n.steps&&Array.isArray(n.steps)&&n.steps.every(r=>r.end_location&&r.start_location&&xo(r.end_location)&&xo(r.start_location))))}function BL(){const[t,e]=Pe.useState(!1),[n,r]=Pe.useState(null);return Pe.useEffect(()=>{window.google&&e(!0)},[]),{isLoaded:t,error:n}}function FL(t){const[e,n]=Pe.useState(null),[r,s]=Pe.useState(null);return Pe.useEffect(()=>{if(!navigator.geolocation||!t)return;const i=navigator.geolocation.watchPosition(o=>{const a=kt(o.coords.latitude,o.coords.longitude);n(a),s(null)},o=>{console.error("Error getting location:",o),s(o)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>navigator.geolocation.clearWatch(i)},[t]),{location:e,error:r}}function WL(t,e,n){return Pe.useMemo(()=>{var o;if(!((o=t==null?void 0:t.path)!=null&&o[0])||!n||!e.length)return null;const r=DL(t.path[0]);let s=null,i=1/0;return e.forEach((a,l)=>{const u=google.maps.geometry.spherical.computeDistanceBetween({lat:a.coordinates.lat,lng:a.coordinates.lng},r);u<50&&u<i&&(i=u,s={location:a,index:l,distance:u})}),s},[t,e,n])}function VL(){const t=Bn(),e=Us(),{selectedRoute:n,duration:r}=t.state,{isLoaded:s,error:i}=BL(),{location:o,error:a}=FL(s),[l,u]=Pe.useState(0),[d,f]=Pe.useState(!1),[p,y]=Pe.useState(null),[v,b]=Pe.useState(!1),[_,m]=Pe.useState(null),[g,w]=Pe.useState(null),[x,L]=Pe.useState(!1),k=Pe.useMemo(()=>{if(!(n!=null&&n.response)||!s)return null;if(!zL(n.response))return console.error("Invalid serialized directions result"),null;const T=xm(n.response);if(!T.isValid)return bm(T.errors),null;try{return{routes:n.response.routes.map(M=>{var F,A;return{...M,bounds:AL({southwest:{lat:M.bounds.getSouthWest().lat(),lng:M.bounds.getSouthWest().lng()},northeast:{lat:M.bounds.getNorthEast().lat(),lng:M.bounds.getNorthEast().lng()}}),legs:M.legs.map(U=>{var H;return{...U,steps:U.steps.map(J=>{var K;return{...J,path:(K=J.path)==null?void 0:K.map(R=>kt(R.lat(),R.lng())),start_location:kt(J.start_location.lat(),J.start_location.lng()),end_location:kt(J.end_location.lat(),J.end_location.lng())}}),start_location:kt(U.start_location.lat(),U.start_location.lng()),end_location:kt(U.end_location.lat(),U.end_location.lng()),via_waypoints:((H=U.via_waypoints)==null?void 0:H.map(J=>kt(J.lat(),J.lng())))||[]}}),overview_path:(F=M.overview_path)==null?void 0:F.map(U=>kt(U.lat(),U.lng())),warnings:M.warnings||[],waypoint_order:M.waypoint_order||[],overview_polyline:((A=M.overview_polyline)==null?void 0:A.points)||"",summary:M.summary||""}}),request:n.response.request||null,geocoded_waypoints:n.response.geocoded_waypoints||[]}}catch(M){return console.error("Error converting directions result:",M),null}},[n,s]);if(!n||!n.response)return h.jsx("div",{className:"container mx-auto p-4",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[h.jsx("h2",{className:"font-bold mb-2",children:"Error Loading Tour"}),h.jsx("p",{children:"Unable to load tour data. Please try again."}),!1]})});if(i)return h.jsx("div",{className:"container mx-auto p-4",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[h.jsx("h2",{className:"font-bold mb-2",children:"Google Maps Error"}),h.jsx("p",{children:i.message}),!1]})});if(a)return h.jsx("div",{className:"container mx-auto p-4",children:h.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:[h.jsx("h2",{className:"font-bold mb-2",children:"Location Access Required"}),h.jsx("p",{children:"Please enable location access to use the tour navigation."}),h.jsx("p",{className:"text-sm mt-2",children:a.message}),!1]})});const S=n.response.routes[0].legs[0],N=T=>{y(p===T?null:T)},C=T=>{T.arContent&&(m(T),b(!0))};return h.jsxs(Ko,{children:[h.jsx("div",{className:"container mx-auto p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b",children:[h.jsx("h1",{className:"text-2xl font-bold",children:n.name}),h.jsx("p",{className:"text-gray-600 mt-1",children:n.description})]}),h.jsx("div",{className:"p-4 border-b",children:h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tour Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Tour Duration"}),h.jsxs("p",{className:"font-medium",children:[r," minutes"]})]}),h.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Walking Time"}),h.jsxs("p",{className:"font-medium",children:[n.estimatedTime," minutes"]})]}),h.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),h.jsx("p",{className:"font-medium",children:n.distance})]})]})]})}),h.jsx("div",{className:"h-[500px] relative",children:h.jsxs(Fu,{mapContainerStyle:{width:"100%",height:"100%"},center:n.locations[0].coordinates,zoom:13,options:Gu,children:[n.locations.map((T,M)=>h.jsx(Rl,{position:T.coordinates,label:(M+1).toString(),onClick:()=>w(M)},M)),g!==null&&h.jsx(gm,{position:n.locations[g].coordinates,onCloseClick:()=>w(null),children:h.jsxs("div",{className:"max-w-xs",children:[h.jsx("h3",{className:"font-bold mb-1",children:n.locations[g].title}),h.jsxs("p",{className:"text-sm mb-2",children:["by ",n.locations[g].artist]}),n.locations[g].imageUrl&&h.jsx("img",{src:n.locations[g].imageUrl,alt:n.locations[g].title,className:"w-full h-32 object-cover rounded"})]})}),o&&h.jsx(Rl,{position:o,icon:{path:google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#4285F4",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2}}),k&&h.jsx(qo,{options:{directions:{...k,request:{travelMode:google.maps.TravelMode.WALKING,destination:k.routes[0].legs[0].end_location,origin:k.routes[0].legs[0].start_location}},suppressMarkers:!1,markerOptions:{label:{text:"",color:"white",fontWeight:"bold"}}}})]})}),h.jsxs("div",{className:"p-4 border-b",children:[h.jsxs("button",{onClick:()=>L(!x),className:"w-full flex justify-between items-center text-xl font-semibold mb-4",children:[h.jsx("span",{children:"Street Art Stops"}),h.jsx("svg",{className:`w-6 h-6 transform transition-transform ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.locations.map((T,M)=>h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>N(M),children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mr-3",children:M+1}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:T.title}),h.jsxs("p",{className:"text-sm text-gray-600",children:["by ",T.artist]})]})]}),T.imageUrl&&h.jsx("img",{src:T.imageUrl,alt:T.title,className:"w-full h-32 object-cover rounded mt-2"})]},M))})]}),h.jsx("div",{className:"p-4",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Walking Directions"}),h.jsxs("div",{className:"flex justify-end mb-4 space-x-4",children:[h.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-lg ${d?"bg-green-500 hover:bg-green-600":"bg-yellow-500 hover:bg-yellow-600"} text-white`,children:d?"Resume Tour":"Pause Tour"}),h.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to complete this tour?")&&e("/")},className:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white",children:"Complete Tour"})]}),h.jsx("div",{className:"space-y-4",children:S.steps.map((T,M)=>{var H,J;const F=s&&n.locations.some(K=>{var E;const R=(E=T.path)==null?void 0:E[0];if(!R)return!1;const z=Dl(R),B={lat:K.coordinates.lat,lng:K.coordinates.lng};return lf(z,B,50)}),A=s&&n.locations.find(K=>{var E;const R=(E=T.path)==null?void 0:E[0];if(!R)return!1;const z=Dl(R),B={lat:K.coordinates.lat,lng:K.coordinates.lng};return lf(z,B,50)}),U=A?n.locations.findIndex(K=>K.title===A.title):-1;return WL(T,n.locations,s),h.jsxs(Pe.Fragment,{children:[F&&h.jsx("div",{className:"border-t-2 border-blue-500 my-4"}),h.jsxs("div",{className:`flex items-start p-4 rounded-lg ${l===M?"bg-blue-50 border-2 border-blue-500":""}`,children:[h.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mr-3 ${l===M?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:M+1}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{dangerouslySetInnerHTML:{__html:T.instructions}}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(H=T.distance)==null?void 0:H.text,"  ",(J=T.duration)==null?void 0:J.text]})]})]}),F&&A&&h.jsx("div",{className:"ml-9 mt-2 mb-4",children:p===U?h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-xl",children:A.title}),h.jsxs("p",{className:"text-gray-600",children:["by ",A.artist]})]}),h.jsx("button",{onClick:K=>{K.stopPropagation(),y(null)},className:"text-gray-500 hover:text-gray-700",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.imageUrl&&h.jsx("img",{src:A.imageUrl,alt:A.title,className:"w-full h-64 object-cover rounded mb-4"}),h.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[A.arEnabled&&A.arContent&&h.jsxs("button",{className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 flex items-center space-x-2",onClick:K=>{K.stopPropagation(),C(A)},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),h.jsx("span",{children:"View in AR"})]}),A.shopUrl&&h.jsxs("a",{href:A.shopUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center space-x-2",onClick:K=>K.stopPropagation(),children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),h.jsx("span",{children:"Shop"})]}),h.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center space-x-2",onClick:K=>{K.stopPropagation(),console.log("Sharing artwork")},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),h.jsx("span",{children:"Share"})]})]})]}):h.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:K=>{K.stopPropagation(),N(U)},children:[A.imageUrl&&h.jsx("img",{src:A.imageUrl,alt:A.title,className:"w-24 h-24 object-cover rounded"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg",children:A.title}),h.jsxs("p",{className:"text-gray-600",children:["by ",A.artist]}),h.jsx("p",{className:"text-sm text-blue-500 mt-1",children:"Click to view details"})]})]})}),F&&h.jsx("div",{className:"border-b-2 border-blue-500 my-4"})]},M)})})]})})]})}),v&&(_==null?void 0:_.arContent)&&h.jsx(IL,{artwork:_.arContent,onClose:()=>{b(!1),m(null)}})]})}function HL(){return h.jsxs(K0,{children:[h.jsx(tw,{}),h.jsxs("div",{className:"pt-16",children:[" ",h.jsxs(B0,{children:[h.jsx(pt,{path:"/",element:h.jsx(b1,{})}),h.jsx(pt,{path:"/cities/:id",element:h.jsx(L1,{})}),h.jsx(pt,{path:"/neighborhoods/:id",element:h.jsx(_1,{})}),h.jsx(pt,{path:"/artists/:id",element:h.jsx(S1,{})}),h.jsx(pt,{path:"/street-art/:id",element:h.jsx(k1,{})}),h.jsx(pt,{path:"/admin",element:h.jsx($1,{})}),h.jsx(pt,{path:"/tour-create",element:h.jsx(z1,{})}),h.jsx(pt,{path:"/tour-options",element:h.jsx(NL,{})}),h.jsx(pt,{path:"/tour-page",element:h.jsx(RL,{})}),h.jsx(pt,{path:"/your-tour",element:h.jsx(VL,{})})]})]})]})}bg(document.getElementById("root")).render(h.jsx(c.StrictMode,{children:h.jsx(HL,{})}));export{Sm as g};
